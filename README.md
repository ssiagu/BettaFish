<div align="center">

<img src="static/image/logo_compressed.png" alt="BettaFish Logo" width="100%">

<a href="https://trendshift.io/repositories/15286" target="_blank"><img src="https://trendshift.io/api/badge/repositories/15286" alt="666ghj%2FBettaFish | Trendshift" style="width: 250px; height: 55px;" width="250" height="55"/></a>

<a href="https://aihubmix.com/?aff=8Ds9" target="_blank"><img src="./static/image/logo_aihubmix.png" alt="666ghj%2FBettaFish | Trendshift" height="40"/></a>&ensp;
<a href="https://lioncc.ai/" target="_blank"><img src="./static/image/logo_loincc.png" alt="666ghj%2FBettaFish | Trendshift" height="40"/></a>&ensp;
<a href="https://share.302.ai/P66Qe3" target="_blank"><img src="./static/image/logo_302ai.png" alt="666ghj%2FBettaFish | Trendshift" height="40"/></a>

<a href="https://open.anspire.cn/?share_code=3E1FUOUH" target="_blank"><img src="./static/image/logo_anspire.png" alt="666ghj%2FBettaFish | Trendshift" height="50"/></a>

[![GitHub Stars](https://img.shields.io/github/stars/666ghj/BettaFish?style=flat-square)](https://github.com/666ghj/BettaFish/stargazers)
[![GitHub Watchers](https://img.shields.io/github/watchers/666ghj/BettaFish?style=flat-square)](https://github.com/666ghj/BettaFish/watchers)
[![GitHub Forks](https://img.shields.io/github/forks/666ghj/BettaFish?style=flat-square)](https://github.com/666ghj/BettaFish/network)
[![GitHub Issues](https://img.shields.io/github/issues/666ghj/BettaFish?style=flat-square)](https://github.com/666ghj/BettaFish/issues)
[![GitHub Pull Requests](https://img.shields.io/github/issues-pr/666ghj/BettaFish?style=flat-square)](https://github.com/666ghj/BettaFish/pulls)

[![GitHub License](https://img.shields.io/github/license/666ghj/BettaFish?style=flat-square)](https://github.com/666ghj/BettaFish/blob/main/LICENSE)
[![Version](https://img.shields.io/badge/version-v1.2.1-green.svg?style=flat-square)](https://github.com/666ghj/BettaFish)
[![Docker](https://img.shields.io/badge/Docker-Build-2496ED?style=flat-square&logo=docker&logoColor=white)](https://hub.docker.com/)



[English](./README-EN.md) | [ä¸­æ–‡æ–‡æ¡£](./README.md)

</div>

## âš¡ é¡¹ç›®æ¦‚è¿°

â€œ**å¾®èˆ†**â€ æ˜¯ä¸€ä¸ªä»0å®ç°çš„åˆ›æ–°å‹ å¤šæ™ºèƒ½ä½“ èˆ†æƒ…åˆ†æç³»ç»Ÿï¼Œå¸®åŠ©å¤§å®¶ç ´é™¤ä¿¡æ¯èŒ§æˆ¿ï¼Œè¿˜åŸèˆ†æƒ…åŸè²Œï¼Œé¢„æµ‹æœªæ¥èµ°å‘ï¼Œè¾…åŠ©å†³ç­–ã€‚ç”¨æˆ·åªéœ€åƒèŠå¤©ä¸€æ ·æå‡ºåˆ†æéœ€æ±‚ï¼Œæ™ºèƒ½ä½“å¼€å§‹å…¨è‡ªåŠ¨åˆ†æ å›½å†…å¤–30+ä¸»æµç¤¾åª’ ä¸ æ•°ç™¾ä¸‡æ¡å¤§ä¼—è¯„è®ºã€‚

> â€œå¾®èˆ†â€è°éŸ³â€œå¾®é±¼â€ï¼ŒBettaFishæ˜¯ä¸€ç§ä½“å‹å¾ˆå°ä½†éå¸¸å¥½æ–—ã€æ¼‚äº®çš„é±¼ï¼Œå®ƒè±¡å¾ç€â€œå°è€Œå¼ºå¤§ï¼Œä¸ç•æŒ‘æˆ˜â€

æŸ¥çœ‹ç³»ç»Ÿä»¥â€œæ­¦æ±‰å¤§å­¦èˆ†æƒ…â€ä¸ºä¾‹ï¼Œç”Ÿæˆçš„ç ”ç©¶æŠ¥å‘Šï¼š[æ­¦æ±‰å¤§å­¦å“ç‰Œå£°èª‰æ·±åº¦åˆ†ææŠ¥å‘Š](./final_reports/final_report__20250827_131630.html)

æŸ¥çœ‹ç³»ç»Ÿä»¥â€œæ­¦æ±‰å¤§å­¦èˆ†æƒ…â€ä¸ºä¾‹ï¼Œä¸€æ¬¡å®Œæ•´è¿è¡Œçš„è§†é¢‘ï¼š[è§†é¢‘-æ­¦æ±‰å¤§å­¦å“ç‰Œå£°èª‰æ·±åº¦åˆ†ææŠ¥å‘Š](https://www.bilibili.com/video/BV1TH1WBxEWN/?vd_source=da3512187e242ce17dceee4c537ec7a6#reply279744466833)

ä¸ä»…ä»…ä½“ç°åœ¨æŠ¥å‘Šè´¨é‡ä¸Šï¼Œç›¸æ¯”åŒç±»äº§å“ï¼Œæˆ‘ä»¬æ‹¥æœ‰ğŸš€å…­å¤§ä¼˜åŠ¿ï¼š

1. **AIé©±åŠ¨çš„å…¨åŸŸç›‘æ§**ï¼šAIçˆ¬è™«é›†ç¾¤7x24å°æ—¶ä¸é—´æ–­ä½œä¸šï¼Œå…¨é¢è¦†ç›–å¾®åšã€å°çº¢ä¹¦ã€æŠ–éŸ³ã€å¿«æ‰‹ç­‰10+å›½å†…å¤–å…³é”®ç¤¾åª’ã€‚ä¸ä»…å®æ—¶æ•è·çƒ­ç‚¹å†…å®¹ï¼Œæ›´èƒ½ä¸‹é’»è‡³æµ·é‡ç”¨æˆ·è¯„è®ºï¼Œè®©æ‚¨å¬åˆ°æœ€çœŸå®ã€æœ€å¹¿æ³›çš„å¤§ä¼—å£°éŸ³ã€‚

2. **è¶…è¶ŠLLMçš„å¤åˆåˆ†æå¼•æ“**ï¼šæˆ‘ä»¬ä¸ä»…ä¾èµ–è®¾è®¡çš„5ç±»ä¸“ä¸šAgentï¼Œæ›´èåˆäº†å¾®è°ƒæ¨¡å‹ã€ç»Ÿè®¡æ¨¡å‹ç­‰ä¸­é—´ä»¶ã€‚é€šè¿‡å¤šæ¨¡å‹ååŒå·¥ä½œï¼Œç¡®ä¿äº†åˆ†æç»“æœçš„æ·±åº¦ã€å‡†åº¦ä¸å¤šç»´è§†è§’ã€‚

3. **å¼ºå¤§çš„å¤šæ¨¡æ€èƒ½åŠ›**ï¼šçªç ´å›¾æ–‡é™åˆ¶ï¼Œèƒ½æ·±åº¦è§£ææŠ–éŸ³ã€å¿«æ‰‹ç­‰çŸ­è§†é¢‘å†…å®¹ï¼Œå¹¶ç²¾å‡†æå–ç°ä»£æœç´¢å¼•æ“ä¸­çš„å¤©æ°”ã€æ—¥å†ã€è‚¡ç¥¨ç­‰ç»“æ„åŒ–å¤šæ¨¡æ€ä¿¡æ¯å¡ç‰‡ï¼Œè®©æ‚¨å…¨é¢æŒæ¡èˆ†æƒ…åŠ¨æ€ã€‚

4. **Agentâ€œè®ºå›â€åä½œæœºåˆ¶**ï¼šä¸ºä¸åŒAgentèµ‹äºˆç‹¬ç‰¹çš„å·¥å…·é›†ä¸æ€ç»´æ¨¡å¼ï¼Œå¼•å…¥è¾©è®ºä¸»æŒäººæ¨¡å‹ï¼Œé€šè¿‡â€œè®ºå›â€æœºåˆ¶è¿›è¡Œé“¾å¼æ€ç»´ç¢°æ’ä¸è¾©è®ºã€‚è¿™ä¸ä»…é¿å…äº†å•ä¸€æ¨¡å‹çš„æ€ç»´å±€é™ä¸äº¤æµå¯¼è‡´çš„åŒè´¨åŒ–ï¼Œæ›´å‚¬ç”Ÿå‡ºæ›´é«˜è´¨é‡çš„é›†ä½“æ™ºèƒ½ä¸å†³ç­–æ”¯æŒã€‚

5. **å…¬ç§åŸŸæ•°æ®æ— ç¼èåˆ**ï¼šå¹³å°ä¸ä»…åˆ†æå…¬å¼€èˆ†æƒ…ï¼Œè¿˜æä¾›é«˜å®‰å…¨æ€§çš„æ¥å£ï¼Œæ”¯æŒæ‚¨å°†å†…éƒ¨ä¸šåŠ¡æ•°æ®åº“ä¸èˆ†æƒ…æ•°æ®æ— ç¼é›†æˆã€‚æ‰“é€šæ•°æ®å£å’ï¼Œä¸ºå‚ç›´ä¸šåŠ¡æä¾›â€œå¤–éƒ¨è¶‹åŠ¿+å†…éƒ¨æ´å¯Ÿâ€çš„å¼ºå¤§åˆ†æèƒ½åŠ›ã€‚

6. **è½»é‡åŒ–ä¸é«˜æ‰©å±•æ€§æ¡†æ¶**ï¼šåŸºäºçº¯Pythonæ¨¡å—åŒ–è®¾è®¡ï¼Œå®ç°è½»é‡åŒ–ã€ä¸€é”®å¼éƒ¨ç½²ã€‚ä»£ç ç»“æ„æ¸…æ™°ï¼Œå¼€å‘è€…å¯è½»æ¾é›†æˆè‡ªå®šä¹‰æ¨¡å‹ä¸ä¸šåŠ¡é€»è¾‘ï¼Œå®ç°å¹³å°çš„å¿«é€Ÿæ‰©å±•ä¸æ·±åº¦å®šåˆ¶ã€‚

**å§‹äºèˆ†æƒ…ï¼Œè€Œä¸æ­¢äºèˆ†æƒ…**ã€‚â€œå¾®èˆ†â€çš„ç›®æ ‡ï¼Œæ˜¯æˆä¸ºé©±åŠ¨ä¸€åˆ‡ä¸šåŠ¡åœºæ™¯çš„ç®€æ´é€šç”¨çš„æ•°æ®åˆ†æå¼•æ“ã€‚

> ä¸¾ä¸ªä¾‹å­. ä½ åªéœ€ç®€å•ä¿®æ”¹Agentå·¥å…·é›†çš„apiå‚æ•°ä¸promptï¼Œå°±å¯ä»¥æŠŠä»–å˜æˆä¸€ä¸ªé‡‘èé¢†åŸŸçš„å¸‚åœºåˆ†æç³»ç»Ÿ
>
> é™„ä¸€ä¸ªæ¯”è¾ƒæ´»è·ƒçš„Lç«™é¡¹ç›®è®¨è®ºå¸–ï¼šhttps://linux.do/t/topic/1009280
>
> æŸ¥çœ‹Lç«™ä½¬å‹åšçš„æµ‹è¯„ [å¼€æºé¡¹ç›®(å¾®èˆ†)ä¸manus|minimax|ChatGPTå¯¹æ¯”](https://linux.do/t/topic/1148040)

<div align="center">
<img src="static/image/system_schematic.png" alt="banner" width="800">

å‘Šåˆ«ä¼ ç»Ÿçš„æ•°æ®çœ‹æ¿ï¼Œåœ¨â€œå¾®èˆ†â€ï¼Œä¸€åˆ‡ç”±ä¸€ä¸ªç®€å•çš„é—®é¢˜å¼€å§‹ï¼Œæ‚¨åªéœ€åƒå¯¹è¯ä¸€æ ·ï¼Œæå‡ºæ‚¨çš„åˆ†æéœ€æ±‚
</div>

## ğŸª„ èµåŠ©å•†

LLMæ¨¡å‹APIèµåŠ©ï¼š<a href="https://aihubmix.com/?aff=8Ds9" target="_blank"><img src="./static/image/logo_aihubmix.png" alt="666ghj%2FBettaFish | Trendshift" height="40"/></a>

<details>
<summary>æœ‰èµåŠ©LLMç®—åŠ›ç¦åˆ©ï¼ç¼–ç¨‹æ‹¼è½¦codecodex.aiï¼›ç¼–ç¨‹ç®—åŠ›VibeCodingAPI.aiï¼š</a><span style="margin-left: 10px"><a href="https://codecodex.ai/" target="_blank"><img src="./static/image/logo_loincc.png" alt="666ghj%2FBettaFish | Trendshift" height="40"/></a></summary>

1. æ‰€ç½—é—¨åšå®¢LionCC.aiå·²æ›´æ–°ã€ŠBettaFish å¾®èˆ†ç³»ç»Ÿ - LionCC API éƒ¨ç½²é…ç½®å®Œå…¨æŒ‡å—ã€‹æ­£åœ¨äºŒå¼€ä¼˜åŒ–ä¸€é”®éƒ¨ç½²å’Œäº‘æœåŠ¡å™¨è°ƒç”¨æ–¹æ¡ˆã€‚
2. VibeCodingapi.aiç‹®å­ç®—åŠ›å¹³å°å·²ç»é€‚é…ã€ŠBettaFish å¾®èˆ†ç³»ç»Ÿã€‹æ‰€æœ‰LLMæ¨¡å‹å«claude codeå’Œopenai codexå’Œgemini cliç¼–ç¨‹å¼€å‘ä¸‰å·¨å¤´ç®—åŠ›ã€‚é¢åº¦ä»·æ ¼ï¼Œåªè¦ä¸€æ¯”ä¸€ï¼ˆ100å…ƒç­‰äº100ç¾åˆ€é¢åº¦ï¼‰
3. Codecodex.aiç‹®å­ç¼–ç¨‹æ‹¼è½¦ç³»ç»Ÿï¼Œå·²å®ç°æ— IPé—¨æ§›ç»•è¿‡claude codeå’Œopenai codexå°é”ï¼ŒæŒ‰å®˜æ–¹éƒ¨ç½²æ•™ç¨‹ååˆ‡æ¢BASE_URLè°ƒç”¨åœ°å€å’ŒToken keyè°ƒç”¨å¯†é’¥å³å¯ä½¿ç”¨æœ€å¼ºç¼–ç¨‹æ¨¡å‹ã€‚

æ‰€ç½—é—¨LionCCèµåŠ©BettaFish å¾®èˆ†ç¦åˆ©ï¼šæ‰“å¼€codecodex.aiç‹®å­ç¼–ç¨‹é¢‘é“æ‰«ç åŠ å…¥å¾®ä¿¡ç¤¾ç¾¤ï¼Œæ³¨å†ŒVibeCodingapi.aiç‹®å­ç®—åŠ›ï¼Œç»Ÿä¸€é€20åˆ€APIé¢åº¦ï¼ˆä»…é™å‰ä¸€åƒåï¼‰
</details>

<details>
<summary>æŒ‰ç”¨é‡ä»˜è´¹çš„ä¼ä¸šçº§AIèµ„æºå¹³å°ï¼Œæä¾›å¸‚åœºä¸Šå…¨é¢çš„AIæ¨¡å‹å’ŒAPIï¼Œä»¥åŠå¤šç§åœ¨çº¿AIåº”ç”¨ï¼š</a><span style="margin-left: 10px"><a href="https://share.302.ai/P66Qe3" target="_blank"><img src="./static/image/logo_302ai.png" alt="666ghj%2FBettaFish | Trendshift" height="40"/></a></summary>
<img src="static/image/banner_302ai_ch.jpg" alt="banner">302.AIæ˜¯ä¸€ä¸ªæŒ‰ç”¨é‡ä»˜è´¹çš„ä¼ä¸šçº§AIèµ„æºå¹³å°ï¼Œæä¾›å¸‚åœºä¸Šæœ€æ–°ã€æœ€å…¨é¢çš„AIæ¨¡å‹å’ŒAPIï¼Œä»¥åŠå¤šç§å¼€ç®±å³ç”¨çš„åœ¨çº¿AIåº”ç”¨ã€‚
</details>

<details>
<summary>AIè”ç½‘æœç´¢ã€æ–‡ä»¶è§£æåŠç½‘é¡µå†…å®¹æŠ“å–ç­‰æ™ºèƒ½ä½“æ ¸å¿ƒèƒ½åŠ›æä¾›å•†ï¼š</a><span style="margin-left: 10px"><a href="https://open.anspire.cn/?share_code=3E1FUOUH" target="_blank"><img src="./static/image/logo_anspire.png" alt="666ghj%2FBettaFish | Trendshift" height="50"/></a></summary>
å®‰æ€æ´¾å¼€æ”¾å¹³å°(Anspire Open)æ˜¯é¢å‘æ™ºèƒ½ä½“æ—¶ä»£çš„é¢†å…ˆçš„åŸºç¡€è®¾æ–½æä¾›å•†ã€‚æˆ‘ä»¬ä¸ºå¼€å‘è€…æä¾›æ„å»ºå¼ºå¤§æ™ºèƒ½ä½“æ‰€éœ€çš„æ ¸å¿ƒèƒ½åŠ›æ ˆï¼Œç°å·²ä¸Šçº¿AIè”ç½‘æœç´¢ã€å¤šç‰ˆæœ¬ï¼Œæå…·ç«äº‰åŠ›çš„ä»·æ ¼ã€‘ã€æ–‡ä»¶è§£æã€é™å…ã€‘åŠç½‘é¡µå†…å®¹æŠ“å–ã€é™å…ã€‘ã€äº‘ç«¯æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼ˆAnspire Browser Agentï¼‰ã€å†…æµ‹ã€‘ã€å¤šè½®æ”¹å†™ç­‰æœåŠ¡ï¼ŒæŒç»­ä¸ºæ™ºèƒ½ä½“è¿æ¥å¹¶æ“ä½œå¤æ‚çš„æ•°å­—ä¸–ç•Œæä¾›åšå®åŸºç¡€ã€‚å¯æ— ç¼é›†æˆè‡³Difyã€Cozeã€å…ƒå™¨ç­‰ä¸»æµæ™ºèƒ½ä½“å¹³å°ã€‚é€šè¿‡é€æ˜ç‚¹æ•°è®¡è´¹ä½“ç³»ä¸æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸ºä¼ä¸šæä¾›é«˜æ•ˆã€ä½æˆæœ¬çš„å®šåˆ¶åŒ–æ”¯æŒï¼ŒåŠ é€Ÿæ™ºèƒ½åŒ–å‡çº§è¿›ç¨‹ã€‚
</details>

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

BettaFishæ˜¯ä¸€ä¸ªåŸºäº**å¤šæ™ºèƒ½ä½“æ¶æ„**çš„å¾®åšèˆ†æƒ…åˆ†æç³»ç»Ÿï¼Œé‡‡ç”¨**å¾®æœåŠ¡æ¶æ„è®¾è®¡**ï¼Œå„å¼•æ“æ¨¡å—ç‹¬ç«‹è¿ä½œåˆç›¸äº’é…åˆã€‚

**Insight Agent** ç§æœ‰æ•°æ®åº“æŒ–æ˜ï¼šç§æœ‰èˆ†æƒ…æ•°æ®åº“æ·±åº¦åˆ†æAIä»£ç†

**Media Agent** å¤šæ¨¡æ€å†…å®¹åˆ†æï¼šå…·å¤‡å¼ºå¤§å¤šæ¨¡æ€èƒ½åŠ›çš„AIä»£ç†

**Query Agent** ç²¾å‡†ä¿¡æ¯æœç´¢ï¼šå…·å¤‡å›½å†…å¤–ç½‘é¡µæœç´¢èƒ½åŠ›çš„AIä»£ç†

**Report Agent** æ™ºèƒ½æŠ¥å‘Šç”Ÿæˆï¼šå†…ç½®æ¨¡æ¿çš„å¤šè½®æŠ¥å‘Šç”ŸæˆAIä»£ç†

<div align="center">
<img src="static/image/framework.png" alt="banner" width="800">
</div>

### æŠ€æœ¯æ ˆ

- **åç«¯**: Python 3.11, Flask (ä¸»åº”ç”¨), Streamlit (å„å¼•æ“UI)
- **æ•°æ®åº“**: PostgreSQL/MySQL (åª’ä½“æ•°æ®å­˜å‚¨)
- **ç¼“å­˜**: Redis (å¯é€‰)
- **AI/LLM**: æ”¯æŒå¤šç§LLM API (OpenAI, Kimi, Gemini, DeepSeekç­‰)
- **å®æ—¶é€šä¿¡**: Socket.IO (WebSocket)
- **éƒ¨ç½²**: Docker, Docker Compose

### æ ¸å¿ƒæ¶æ„å±‚æ¬¡

```mermaid
graph TB
    subgraph "å‰ç«¯å±‚"
        A[Flaskä¸»åº”ç”¨ app.py:5000] --> B[æ´å¯Ÿå¼•æ“ Streamlit:8501]
        A --> C[åª’ä½“å¼•æ“ Streamlit:8502]
        A --> D[æŸ¥è¯¢å¼•æ“ Streamlit:8503]
    end

    subgraph "APIå±‚"
        E[REST API] --> F[WebSocket API]
        F --> G[ç»Ÿä¸€æœç´¢æ¥å£]
    end

    subgraph "å¼•æ“å±‚"
        H[InsightEngine<br/>æ´å¯Ÿå¼•æ“]
        I[MediaEngine<br/>åª’ä½“å¼•æ“]
        J[QueryEngine<br/>æŸ¥è¯¢å¼•æ“]
        K[ReportEngine<br/>æŠ¥å‘Šå¼•æ“]
        L[ForumEngine<br/>è®ºå›å¼•æ“]
    end

    subgraph "å·¥å…·å±‚"
        M[MindSpider<br/>å¿ƒæ™ºèœ˜è››]
        N[SentimentAnalysisModel<br/>æƒ…æ„Ÿåˆ†ææ¨¡å‹]
        O[å…³é”®è¯ä¼˜åŒ–å™¨]
        P[å¤šè¯­è¨€å¤„ç†]
    end

    subgraph "åŸºç¡€è®¾æ–½å±‚"
        Q[PostgreSQL/MySQL]
        R[Redisç¼“å­˜]
        S[æ–‡ä»¶å­˜å‚¨]
        T[å¤–éƒ¨LLM APIs]
    end
```

### æ ¸å¿ƒå¼•æ“æ¨¡å—è¯¦è§£

#### ğŸ” InsightEngine (æ´å¯Ÿå¼•æ“)
- **ä½ç½®**: `InsightEngine/`
- **æ ¸å¿ƒåŠŸèƒ½**: æ·±åº¦æœç´¢ä¸æ™ºèƒ½æ´å¯Ÿ
- **ä¸»ç±»**: `DeepSearchAgent` (agent.py:41)
- **å·¥ä½œæµç¨‹**:
  1. `FirstSearchNode`: æ‰§è¡Œåˆå§‹æœç´¢
  2. `FirstSummaryNode`: ç”Ÿæˆé¦–æ¬¡æ€»ç»“
  3. `ReflectionNode`: åæ€åˆ†æ
  4. `ReflectionSummaryNode`: ç”Ÿæˆåæ€æ€»ç»“
  5. `ReportFormattingNode`: æ ¼å¼åŒ–æŠ¥å‘Š
- **ç‰¹è‰²åŠŸèƒ½**:
  - å…³é”®è¯è‡ªåŠ¨ä¼˜åŒ– (keyword_optimizer.py)
  - å¤šè¯­è¨€æƒ…æ„Ÿåˆ†æ (22ç§è¯­è¨€)
  - æ™ºèƒ½èšç±»ç®—æ³• (SentenceTransformer)

#### ğŸ¥ MediaEngine (åª’ä½“å¼•æ“)
- **ä½ç½®**: `MediaEngine/`
- **æ ¸å¿ƒåŠŸèƒ½**: å¤šåª’ä½“å†…å®¹å¤„ç†ä¸åˆ†æ
- **ä¸»ç±»**: `MediaAgent` (agent.py)
- **ç‰¹è‰²åŠŸèƒ½**:
  - å›¾ç‰‡/è§†é¢‘å†…å®¹åˆ†æ
  - å¤šæ¨¡æ€å†…å®¹ç†è§£
  - åª’ä½“æ•°æ®æŒ–æ˜

#### ğŸ” QueryEngine (æŸ¥è¯¢å¼•æ“)
- **ä½ç½®**: `QueryEngine/`
- **æ ¸å¿ƒåŠŸèƒ½**: åŸºäºTavilyçš„æ–°é—»æœç´¢ä¸ä¿¡æ¯æ£€ç´¢
- **ä¸»ç±»**: `QueryAgent` (agent.py)
- **ç‰¹è‰²åŠŸèƒ½**:
  - å®æ—¶æ–°é—»æœç´¢
  - Tavily APIé›†æˆ
  - ä¿¡æ¯èšåˆä¸ç­›é€‰

#### ğŸ“Š ReportEngine (æŠ¥å‘Šå¼•æ“)
- **ä½ç½®**: `ReportEngine/`
- **æ ¸å¿ƒåŠŸèƒ½**: æ™ºèƒ½æŠ¥å‘Šç”Ÿæˆä¸å¯¼å‡º
- **ä¸»ç±»**: `ReportAgent` (agent.py)
- **Flaskæ¥å£**: `flask_interface.py`
- **æ¸²æŸ“å™¨**: `renderers/`
- **ç‰¹è‰²åŠŸèƒ½**:
  - å¤šæ ¼å¼æŠ¥å‘Šå¯¼å‡º (PDF, HTML, Word)
  - æ¨¡æ¿åŒ–æŠ¥å‘Šç”Ÿæˆ
  - æ•°æ®å¯è§†åŒ–

#### ğŸ’¬ ForumEngine (è®ºå›å¼•æ“)
- **ä½ç½®**: `ForumEngine/`
- **æ ¸å¿ƒåŠŸèƒ½**: è®ºå›ç›‘æ§ä¸LLMæ‰˜ç®¡
- **ç›‘æ§å™¨**: `monitor.py`
- **ä¸»æŒäºº**: `llm_host.py`
- **ç‰¹è‰²åŠŸèƒ½**:
  - å®æ—¶ç›‘æ§å„å¼•æ“æ—¥å¿—
  - AIä¸»æŒäººæ™ºèƒ½å¼•å¯¼è®¨è®º
  - å¤šå¼•æ“åä½œå¹³å°

#### ğŸ•·ï¸ MindSpider (å¿ƒæ™ºèœ˜è››)
- **ä½ç½®**: `MindSpider/`
- **æ ¸å¿ƒåŠŸèƒ½**: ä¸»é¢˜æå–ä¸æ·±åº¦æƒ…æ„Ÿçˆ¬å–
- **å­æ¨¡å—**:
  - `BroadTopicExtraction/`: å¹¿æ³›ä¸»é¢˜æå–
  - `DeepSentimentCrawling/`: æ·±åº¦æƒ…æ„Ÿçˆ¬å–
- **ä¸»ç¨‹åº**: `main.py`

### ç³»ç»Ÿæ‰§è¡Œæµç¨‹

#### å¯åŠ¨æµç¨‹
```python
# app.py ä¸»å¯åŠ¨æµç¨‹
1. Flaskåº”ç”¨åˆå§‹åŒ– (app.py:35)
2. SocketIOå¼‚æ­¥æ¨¡å¼é€‰æ‹© (app.py:39-54)
3. ReportEngine Blueprintæ³¨å†Œ (app.py:90-94)
4. ç³»ç»Ÿç»„ä»¶åˆå§‹åŒ– (initialize_system_components:286)
   - MindSpideræ•°æ®åº“åˆå§‹åŒ–
   - Streamlitå­åº”ç”¨å¯åŠ¨
   - ForumEngineè®ºå›å¯åŠ¨
   - ReportEngineåˆå§‹åŒ–
5. æ—¥å¿—ç›‘æ§çº¿ç¨‹å¯åŠ¨ (monitor_forum_log:449)
```

#### è¯·æ±‚å¤„ç†æµç¨‹
```mermaid
sequenceDiagram
    participant Client as å®¢æˆ·ç«¯
    participant Flask as Flaskä¸»åº”ç”¨
    participant Streamlit as Streamlitåº”ç”¨
    participant Engine as å¼•æ“æ¨¡å—
    participant DB as æ•°æ®åº“
    participant LLM as LLM API

    Client->>Flask: HTTP/WSè¯·æ±‚
    Flask->>Streamlit: è½¬å‘è¯·æ±‚
    Streamlit->>Engine: è°ƒç”¨å¼•æ“API
    Engine->>DB: æŸ¥è¯¢æ•°æ®
    Engine->>LLM: AIåˆ†æè¯·æ±‚
    LLM-->>Engine: è¿”å›åˆ†æç»“æœ
    Engine-->>Streamlit: å¤„ç†ç»“æœ
    Streamlit-->>Flask: å“åº”æ•°æ®
    Flask-->>Client: è¿”å›ç»“æœ
```

#### æœç´¢åˆ†ææµç¨‹
1. **æ¥æ”¶æŸ¥è¯¢**: é€šè¿‡ç»Ÿä¸€æœç´¢æ¥å£æ¥æ”¶æŸ¥è¯¢è¯·æ±‚
2. **å…³é”®è¯ä¼˜åŒ–**: ä½¿ç”¨LLMä¼˜åŒ–æœç´¢å…³é”®è¯
3. **å¤šå¼•æ“å¹¶è¡Œ**: Insight/Media/Queryä¸‰å¼•æ“å¹¶è¡Œå¤„ç†
4. **ç»“æœèšåˆ**: æ”¶é›†å„å¼•æ“æœç´¢ç»“æœ
5. **æ™ºèƒ½åˆ†æ**:
   - æƒ…æ„Ÿåˆ†æ (SentimentAnalysisModel)
   - å†…å®¹èšç±»
   - æ·±åº¦æ´å¯Ÿç”Ÿæˆ
6. **æŠ¥å‘Šç”Ÿæˆ**: ReportEngineç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š
7. **å®æ—¶æ¨é€**: é€šè¿‡WebSocketæ¨é€ç»“æœ

### APIæ¥å£ä½“ç³»

#### REST API (app.py)
- **ç³»ç»Ÿç®¡ç†**:
  - `GET /api/system/status` - è·å–ç³»ç»ŸçŠ¶æ€
  - `POST /api/system/start` - å¯åŠ¨ç³»ç»Ÿ
  - `POST /api/system/shutdown` - å…³é—­ç³»ç»Ÿ
  - `GET /api/status` - è·å–æ‰€æœ‰åº”ç”¨çŠ¶æ€

- **åº”ç”¨æ§åˆ¶**:
  - `POST /api/start/<app_name>` - å¯åŠ¨æŒ‡å®šåº”ç”¨
  - `POST /api/stop/<app_name>` - åœæ­¢æŒ‡å®šåº”ç”¨
  - `GET /api/output/<app_name>` - è·å–åº”ç”¨è¾“å‡º

- **æœç´¢ä¸åˆ†æ**:
  - `POST /api/search` - ç»Ÿä¸€æœç´¢æ¥å£
  - `GET /api/forum/log` - è·å–è®ºå›æ—¥å¿—
  - `POST /api/forum/log/history` - è·å–å†å²æ—¥å¿—

- **é…ç½®ç®¡ç†**:
  - `GET /api/config` - è·å–é…ç½®
  - `POST /api/config` - æ›´æ–°é…ç½®

#### WebSocket API (Socket.IO)
- **è¿æ¥äº‹ä»¶**:
  - `connect` - å®¢æˆ·ç«¯è¿æ¥
  - `request_status` - è¯·æ±‚çŠ¶æ€æ›´æ–°
  - `console_output` - æ§åˆ¶å°è¾“å‡ºæ¨é€
  - `forum_message` - è®ºå›æ¶ˆæ¯æ¨é€
  - `status_update` - çŠ¶æ€æ›´æ–°æ¨é€

#### Streamlit APIç«¯å£
- InsightEngine: 8601
- MediaEngine: 8602
- QueryEngine: 8603

### æ•°æ®æµè½¬æœºåˆ¶

#### æ—¥å¿—ç³»ç»Ÿ
- **æ—¥å¿—ç›®å½•**: `logs/`
- **æ—¥å¿—æ–‡ä»¶**:
  - `insight.log` - æ´å¯Ÿå¼•æ“æ—¥å¿—
  - `media.log` - åª’ä½“å¼•æ“æ—¥å¿—
  - `query.log` - æŸ¥è¯¢å¼•æ“æ—¥å¿—
  - `forum.log` - è®ºå›æ—¥å¿—

#### ç›‘æ§æœºåˆ¶
ForumEngineå®æ—¶ç›‘æ§å„å¼•æ“çš„SummaryNodeè¾“å‡ºï¼Œæå–å…³é”®ä¿¡æ¯å¹¶é€šè¿‡AIä¸»æŒäººä¿ƒè¿›è®¨è®ºã€‚

#### çŠ¶æ€ç®¡ç†
- å…¨å±€çŠ¶æ€é” (system_state_lock:243)
- è¿›ç¨‹çŠ¶æ€è¿½è¸ª (processes:516)
- WebSocketå®æ—¶çŠ¶æ€åŒæ­¥

### é…ç½®ä½“ç³»

#### é…ç½®æ–‡ä»¶ç»“æ„ (config.py)
- **FlaskæœåŠ¡å™¨é…ç½®**: HOST, PORT
- **æ•°æ®åº“é…ç½®**: DB_DIALECT, DB_HOST, DB_PORTç­‰
- **LLM APIé…ç½®**: å„å¼•æ“çš„API_KEY, BASE_URL, MODEL_NAME
- **æœç´¢å·¥å…·é…ç½®**: TAVILY_API_KEY, BOCHA_API_KEYç­‰
- **æœç´¢é™åˆ¶é…ç½®**: å„ç±»DEFAULT_*_LIMITå‚æ•°

#### ç¯å¢ƒå˜é‡åŠ è½½
- ä¼˜å…ˆçº§: å½“å‰å·¥ä½œç›®å½•.env > é¡¹ç›®æ ¹ç›®å½•.env
- ä½¿ç”¨Pydantic Settingsè¿›è¡Œç®¡ç†
- æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€æ›´æ–°

### ç³»ç»Ÿç‰¹è‰²åŠŸèƒ½

1. **å¤šæ™ºèƒ½ä½“åä½œ**: 5ä¸ªç‹¬ç«‹å¼•æ“ååŒå·¥ä½œ
2. **å®æ—¶ç›‘æ§è®ºå›**: ForumEngineæä¾›AIä¸»æŒçš„è®¨è®ºç¯å¢ƒ
3. **æ™ºèƒ½èšç±»åˆ†æ**: ä½¿ç”¨MLç®—æ³•ä¼˜åŒ–æœç´¢ç»“æœ
4. **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒ22ç§è¯­è¨€çš„æƒ…æ„Ÿåˆ†æ
5. **çµæ´»çš„LLMé›†æˆ**: æ”¯æŒå¤šç§LLM APIæä¾›å•†
6. **å®Œæ•´æŠ¥å‘Šç³»ç»Ÿ**: è‡ªåŠ¨ç”Ÿæˆå¤šæ ¼å¼åˆ†ææŠ¥å‘Š

### æ€§èƒ½ä¼˜åŒ–æªæ–½

1. **å¼‚æ­¥å¤„ç†**: ä½¿ç”¨gevent/eventletæå‡å¹¶å‘æ€§èƒ½
2. **æ‡’åŠ è½½**: èšç±»æ¨¡å‹ç­‰å¤§æ¨¡å‹æ‡’åŠ è½½
3. **ç¼“å­˜æœºåˆ¶**: é…ç½®ç¼“å­˜ã€æœç´¢ç»“æœç¼“å­˜
4. **èµ„æºç®¡ç†**: è‡ªåŠ¨æ¸…ç†ã€è¶…æ—¶æ§åˆ¶
5. **å¹¶å‘æ§åˆ¶**: é¿å…åŒæ—¶æ‰§è¡Œå¤šä¸ªé‡ä»»åŠ¡

### ä¸€æ¬¡å®Œæ•´åˆ†ææµç¨‹

| æ­¥éª¤ | é˜¶æ®µåç§° | ä¸»è¦æ“ä½œ | å‚ä¸ç»„ä»¶ | å¾ªç¯ç‰¹æ€§ |
|------|----------|----------|----------|----------|
| 1 | ç”¨æˆ·æé—® | Flaskä¸»åº”ç”¨æ¥æ”¶æŸ¥è¯¢ | Flaskä¸»åº”ç”¨ | - |
| 2 | å¹¶è¡Œå¯åŠ¨ | ä¸‰ä¸ªAgentåŒæ—¶å¼€å§‹å·¥ä½œ | Query Agentã€Media Agentã€Insight Agent | - |
| 3 | åˆæ­¥åˆ†æ | å„Agentä½¿ç”¨ä¸“å±å·¥å…·è¿›è¡Œæ¦‚è§ˆæœç´¢ | å„Agent + ä¸“å±å·¥å…·é›† | - |
| 4 | ç­–ç•¥åˆ¶å®š | åŸºäºåˆæ­¥ç»“æœåˆ¶å®šåˆ†å—ç ”ç©¶ç­–ç•¥ | å„Agentå†…éƒ¨å†³ç­–æ¨¡å— | - |
| 5-N | **å¾ªç¯é˜¶æ®µ** | **è®ºå›åä½œ + æ·±åº¦ç ”ç©¶** | **ForumEngine + æ‰€æœ‰Agent** | **å¤šè½®å¾ªç¯** |
| 5.1 | æ·±åº¦ç ”ç©¶ | å„AgentåŸºäºè®ºå›ä¸»æŒäººå¼•å¯¼è¿›è¡Œä¸“é¡¹æœç´¢ | å„Agent + åæ€æœºåˆ¶ + è®ºå›å¼•å¯¼ | æ¯è½®å¾ªç¯ |
| 5.2 | è®ºå›åä½œ | ForumEngineç›‘æ§Agentå‘è¨€å¹¶ç”Ÿæˆä¸»æŒäººå¼•å¯¼ | ForumEngine + LLMä¸»æŒäºº | æ¯è½®å¾ªç¯ |
| 5.3 | äº¤æµèåˆ | å„Agentæ ¹æ®è®¨è®ºè°ƒæ•´ç ”ç©¶æ–¹å‘ | å„Agent + forum_readerå·¥å…· | æ¯è½®å¾ªç¯ |
| N+1 | ç»“æœæ•´åˆ | Report Agentæ”¶é›†æ‰€æœ‰åˆ†æç»“æœå’Œè®ºå›å†…å®¹ | Report Agent | - |
| N+2 | IRä¸­é—´è¡¨ç¤º | åŠ¨æ€é€‰æ‹©æ¨¡æ¿å’Œæ ·å¼ï¼Œå¤šè½®ç”Ÿæˆå…ƒæ•°æ®ï¼Œè£…è®¢ä¸ºIRä¸­é—´è¡¨ç¤º | Report Agent + æ¨¡æ¿å¼•æ“ | - |
| N+3 | æŠ¥å‘Šç”Ÿæˆ | åˆ†å—è¿›è¡Œè´¨é‡æ£€æµ‹ï¼ŒåŸºäºIRæ¸²æŸ“æˆäº¤äº’å¼ HTML æŠ¥å‘Š | Report Agent + è£…è®¢å¼•æ“ | - |

### é¡¹ç›®ä»£ç ç»“æ„æ ‘

```
BettaFish/
â”œâ”€â”€ QueryEngine/                            # å›½å†…å¤–æ–°é—»å¹¿åº¦æœç´¢Agent
â”‚   â”œâ”€â”€ agent.py                            # Agentä¸»é€»è¾‘ï¼Œåè°ƒæœç´¢ä¸åˆ†ææµç¨‹
â”‚   â”œâ”€â”€ llms/                               # LLMæ¥å£å°è£…
â”‚   â”œâ”€â”€ nodes/                              # å¤„ç†èŠ‚ç‚¹ï¼šæœç´¢ã€æ ¼å¼åŒ–ã€æ€»ç»“ç­‰
â”‚   â”œâ”€â”€ tools/                              # å›½å†…å¤–æ–°é—»æœç´¢å·¥å…·é›†
â”‚   â”œâ”€â”€ utils/                              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ state/                              # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ prompts/                            # æç¤ºè¯æ¨¡æ¿
â”‚   â””â”€â”€ ...
â”œâ”€â”€ MediaEngine/                            # å¼ºå¤§çš„å¤šæ¨¡æ€ç†è§£Agent
â”‚   â”œâ”€â”€ agent.py                            # Agentä¸»é€»è¾‘ï¼Œå¤„ç†è§†é¢‘/å›¾ç‰‡ç­‰å¤šæ¨¡æ€å†…å®¹
â”‚   â”œâ”€â”€ llms/                               # LLMæ¥å£å°è£…
â”‚   â”œâ”€â”€ nodes/                              # å¤„ç†èŠ‚ç‚¹ï¼šæœç´¢ã€æ ¼å¼åŒ–ã€æ€»ç»“ç­‰
â”‚   â”œâ”€â”€ tools/                              # å¤šæ¨¡æ€æœç´¢å·¥å…·é›†
â”‚   â”œâ”€â”€ utils/                              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ state/                              # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ prompts/                            # æç¤ºè¯æ¨¡æ¿
â”‚   â””â”€â”€ ...
â”œâ”€â”€ InsightEngine/                          # ç§æœ‰æ•°æ®åº“æŒ–æ˜Agent
â”‚   â”œâ”€â”€ agent.py                            # Agentä¸»é€»è¾‘ï¼Œåè°ƒæ•°æ®åº“æŸ¥è¯¢ä¸åˆ†æ
â”‚   â”œâ”€â”€ llms/                               # LLMæ¥å£å°è£…
â”‚   â”‚   â””â”€â”€ base.py                         # ç»Ÿä¸€çš„OpenAIå…¼å®¹å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ nodes/                              # å¤„ç†èŠ‚ç‚¹ï¼šæœç´¢ã€æ ¼å¼åŒ–ã€æ€»ç»“ç­‰
â”‚   â”‚   â”œâ”€â”€ base_node.py                    # åŸºç¡€èŠ‚ç‚¹ç±»
â”‚   â”‚   â”œâ”€â”€ search_node.py                  # æœç´¢èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ formatting_node.py              # æ ¼å¼åŒ–èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ report_structure_node.py        # æŠ¥å‘Šç»“æ„èŠ‚ç‚¹
â”‚   â”‚   â””â”€â”€ summary_node.py                 # æ€»ç»“èŠ‚ç‚¹
â”‚   â”œâ”€â”€ tools/                              # æ•°æ®åº“æŸ¥è¯¢å’Œåˆ†æå·¥å…·é›†
â”‚   â”‚   â”œâ”€â”€ keyword_optimizer.py            # Qwenå…³é”®è¯ä¼˜åŒ–ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ search.py                       # æ•°æ®åº“æ“ä½œå·¥å…·é›†ï¼ˆè¯é¢˜æœç´¢ã€è¯„è®ºè·å–ç­‰ï¼‰
â”‚   â”‚   â””â”€â”€ sentiment_analyzer.py           # æƒ…æ„Ÿåˆ†æé›†æˆå·¥å…·
â”‚   â”œâ”€â”€ utils/                              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ config.py                       # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ db.py                           # SQLAlchemyå¼‚æ­¥å¼•æ“ä¸åªè¯»æŸ¥è¯¢å°è£…
â”‚   â”‚   â””â”€â”€ text_processing.py              # æ–‡æœ¬å¤„ç†å·¥å…·
â”‚   â”œâ”€â”€ state/                              # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ state.py                        # AgentçŠ¶æ€å®šä¹‰
â”‚   â”œâ”€â”€ prompts/                            # æç¤ºè¯æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ prompts.py                      # å„ç±»æç¤ºè¯
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ ReportEngine/                           # å¤šè½®æŠ¥å‘Šç”ŸæˆAgent
â”‚   â”œâ”€â”€ agent.py                            # æ€»è°ƒåº¦å™¨ï¼šæ¨¡æ¿é€‰æ‹©â†’å¸ƒå±€â†’ç¯‡å¹…â†’ç« èŠ‚â†’æ¸²æŸ“
â”‚   â”œâ”€â”€ flask_interface.py                  # Flask/SSEå…¥å£ï¼Œç®¡ç†ä»»åŠ¡æ’é˜Ÿä¸æµå¼äº‹ä»¶
â”‚   â”œâ”€â”€ llms/                               # OpenAIå…¼å®¹LLMå°è£…
â”‚   â”‚   â””â”€â”€ base.py                         # ç»Ÿä¸€çš„æµå¼/é‡è¯•å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ core/                               # æ ¸å¿ƒåŠŸèƒ½ï¼šæ¨¡æ¿è§£æã€ç« èŠ‚å­˜å‚¨ã€æ–‡æ¡£è£…è®¢
â”‚   â”‚   â”œâ”€â”€ template_parser.py              # Markdownæ¨¡æ¿åˆ‡ç‰‡ä¸slugç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ chapter_storage.py              # ç« èŠ‚runç›®å½•ã€manifestä¸rawæµå†™å…¥
â”‚   â”‚   â””â”€â”€ stitcher.py                     # Document IRè£…è®¢å™¨ï¼Œè¡¥é½é”šç‚¹/å…ƒæ•°æ®
â”‚   â”œâ”€â”€ ir/                                 # æŠ¥å‘Šä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰å¥‘çº¦ä¸æ ¡éªŒ
â”‚   â”‚   â”œâ”€â”€ schema.py                       # å—/æ ‡è®°Schemaå¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ validator.py                    # ç« èŠ‚JSONç»“æ„æ ¡éªŒå™¨
â”‚   â”œâ”€â”€ nodes/                              # å…¨æµç¨‹æ¨ç†èŠ‚ç‚¹
â”‚   â”‚   â”œâ”€â”€ base_node.py                    # èŠ‚ç‚¹åŸºç±»+æ—¥å¿—/çŠ¶æ€é’©å­
â”‚   â”‚   â”œâ”€â”€ template_selection_node.py      # æ¨¡æ¿å€™é€‰æ”¶é›†ä¸LLMç­›é€‰
â”‚   â”‚   â”œâ”€â”€ document_layout_node.py         # æ ‡é¢˜/ç›®å½•/ä¸»é¢˜è®¾è®¡
â”‚   â”‚   â”œâ”€â”€ word_budget_node.py             # ç¯‡å¹…è§„åˆ’ä¸ç« èŠ‚æŒ‡ä»¤ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ chapter_generation_node.py      # ç« èŠ‚çº§JSONç”Ÿæˆ+æ ¡éªŒ
â”‚   â”œâ”€â”€ prompts/                            # æç¤ºè¯åº“ä¸Schemaè¯´æ˜
â”‚   â”‚   â””â”€â”€ prompts.py                      # æ¨¡æ¿é€‰æ‹©/å¸ƒå±€/ç¯‡å¹…/ç« èŠ‚æç¤ºè¯
â”‚   â”œâ”€â”€ renderers/                          # IRæ¸²æŸ“å™¨
â”‚   â”‚   â”œâ”€â”€ html_renderer.py                # Document IRâ†’äº¤äº’å¼HTML
â”‚   â”‚   â”œâ”€â”€ pdf_renderer.py                 # HTMLâ†’PDFå¯¼å‡ºï¼ˆWeasyPrintï¼‰
â”‚   â”‚   â”œâ”€â”€ pdf_layout_optimizer.py         # PDFå¸ƒå±€ä¼˜åŒ–å™¨
â”‚   â”‚   â””â”€â”€ chart_to_svg.py                 # å›¾è¡¨è½¬SVGå·¥å…·
â”‚   â”œâ”€â”€ state/                              # ä»»åŠ¡/å…ƒæ•°æ®çŠ¶æ€æ¨¡å‹
â”‚   â”‚   â””â”€â”€ state.py                        # ReportStateä¸åºåˆ—åŒ–å·¥å…·
â”‚   â”œâ”€â”€ utils/                              # é…ç½®ä¸è¾…åŠ©å·¥å…·
â”‚   â”‚   â”œâ”€â”€ config.py                       # Pydantic Settingsä¸æ‰“å°åŠ©æ‰‹
â”‚   â”‚   â”œâ”€â”€ dependency_check.py             # ä¾èµ–æ£€æŸ¥å·¥å…·
â”‚   â”‚   â”œâ”€â”€ json_parser.py                  # JSONè§£æå·¥å…·
â”‚   â”‚   â”œâ”€â”€ chart_validator.py              # å›¾è¡¨æ ¡éªŒå·¥å…·
â”‚   â”‚   â””â”€â”€ chart_repair_api.py             # å›¾è¡¨ä¿®å¤API
â”‚   â”œâ”€â”€ report_template/                    # Markdownæ¨¡æ¿åº“
â”‚   â”‚   â”œâ”€â”€ ä¼ä¸šå“ç‰Œå£°èª‰åˆ†ææŠ¥å‘Š.md
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ ForumEngine/                            # è®ºå›å¼•æ“ï¼šAgentåä½œæœºåˆ¶
â”‚   â”œâ”€â”€ monitor.py                          # æ—¥å¿—ç›‘æ§å’Œè®ºå›ç®¡ç†æ ¸å¿ƒ
â”‚   â”œâ”€â”€ llm_host.py                         # è®ºå›ä¸»æŒäººLLMæ¨¡å—
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ MindSpider/                             # ç¤¾äº¤åª’ä½“çˆ¬è™«ç³»ç»Ÿ
â”‚   â”œâ”€â”€ main.py                             # çˆ¬è™«ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ config.py                           # çˆ¬è™«é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ BroadTopicExtraction/               # è¯é¢˜æå–æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ main.py                         # è¯é¢˜æå–ä¸»ç¨‹åº
â”‚   â”‚   â”œâ”€â”€ database_manager.py             # æ•°æ®åº“ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ get_today_news.py               # ä»Šæ—¥æ–°é—»è·å–
â”‚   â”‚   â””â”€â”€ topic_extractor.py              # è¯é¢˜æå–å™¨
â”‚   â”œâ”€â”€ DeepSentimentCrawling/              # æ·±åº¦èˆ†æƒ…çˆ¬å–æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ main.py                         # æ·±åº¦çˆ¬å–ä¸»ç¨‹åº
â”‚   â”‚   â”œâ”€â”€ keyword_manager.py              # å…³é”®è¯ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ platform_crawler.py             # å¹³å°çˆ¬è™«ç®¡ç†
â”‚   â”‚   â””â”€â”€ MediaCrawler/                   # ç¤¾åª’çˆ¬è™«æ ¸å¿ƒ
â”‚   â”‚       â”œâ”€â”€ main.py
â”‚   â”‚       â”œâ”€â”€ config/                     # å„å¹³å°é…ç½®
â”‚   â”‚       â”œâ”€â”€ media_platform/             # å„å¹³å°çˆ¬è™«å®ç°
â”‚   â”‚       â””â”€â”€ ...
â”‚   â””â”€â”€ schema/                             # æ•°æ®åº“ç»“æ„å®šä¹‰
â”‚       â”œâ”€â”€ db_manager.py                   # æ•°æ®åº“ç®¡ç†å™¨
â”‚       â”œâ”€â”€ init_database.py                # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚       â”œâ”€â”€ mindspider_tables.sql           # æ•°æ®åº“è¡¨ç»“æ„SQL
â”‚       â”œâ”€â”€ models_bigdata.py               # å¤§è§„æ¨¡åª’ä½“èˆ†æƒ…è¡¨çš„SQLAlchemyæ˜ å°„
â”‚       â””â”€â”€ models_sa.py                    # DailyTopic/Taskç­‰æ‰©å±•è¡¨ORMæ¨¡å‹
â”œâ”€â”€ SentimentAnalysisModel/                 # æƒ…æ„Ÿåˆ†ææ¨¡å‹é›†åˆ
â”‚   â”œâ”€â”€ WeiboSentiment_Finetuned/           # å¾®è°ƒBERT/GPT-2æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ BertChinese-Lora/               # BERTä¸­æ–‡LoRAå¾®è°ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ train.py
â”‚   â”‚   â”‚   â”œâ”€â”€ predict.py
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ GPT2-Lora/                      # GPT-2 LoRAå¾®è°ƒ
â”‚   â”‚       â”œâ”€â”€ train.py
â”‚   â”‚       â”œâ”€â”€ predict.py
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”œâ”€â”€ WeiboMultilingualSentiment/         # å¤šè¯­è¨€æƒ…æ„Ÿåˆ†æ
â”‚   â”‚   â”œâ”€â”€ train.py
â”‚   â”‚   â”œâ”€â”€ predict.py
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ WeiboSentiment_SmallQwen/           # å°å‚æ•°Qwen3å¾®è°ƒ
â”‚   â”‚   â”œâ”€â”€ train.py
â”‚   â”‚   â”œâ”€â”€ predict_universal.py
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ WeiboSentiment_MachineLearning/     # ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•
â”‚       â”œâ”€â”€ train.py
â”‚       â”œâ”€â”€ predict.py
â”‚       â””â”€â”€ ...
â”œâ”€â”€ SingleEngineApp/                        # å•ç‹¬Agentçš„Streamlitåº”ç”¨
â”‚   â”œâ”€â”€ query_engine_streamlit_app.py       # QueryEngineç‹¬ç«‹åº”ç”¨
â”‚   â”œâ”€â”€ media_engine_streamlit_app.py       # MediaEngineç‹¬ç«‹åº”ç”¨
â”‚   â””â”€â”€ insight_engine_streamlit_app.py     # InsightEngineç‹¬ç«‹åº”ç”¨
â”œâ”€â”€ query_engine_streamlit_reports/         # QueryEngineå•åº”ç”¨è¿è¡Œè¾“å‡º
â”œâ”€â”€ media_engine_streamlit_reports/         # MediaEngineå•åº”ç”¨è¿è¡Œè¾“å‡º
â”œâ”€â”€ insight_engine_streamlit_reports/       # InsightEngineå•åº”ç”¨è¿è¡Œè¾“å‡º
â”œâ”€â”€ templates/                              # Flaskå‰ç«¯æ¨¡æ¿
â”‚   â””â”€â”€ index.html                          # ä¸»ç•Œé¢HTML
â”œâ”€â”€ static/                                 # é™æ€èµ„æº
â”‚   â””â”€â”€ image/                              # å›¾ç‰‡èµ„æº
â”‚       â”œâ”€â”€ logo_compressed.png
â”‚       â”œâ”€â”€ framework.png
â”‚       â””â”€â”€ ...
â”œâ”€â”€ logs/                                   # è¿è¡Œæ—¥å¿—ç›®å½•
â”œâ”€â”€ final_reports/                          # æœ€ç»ˆç”Ÿæˆçš„æŠ¥å‘Šæ–‡ä»¶
â”‚   â”œâ”€â”€ ir/                                 # æŠ¥å‘ŠIR JSONæ–‡ä»¶
â”‚   â””â”€â”€ *.html                              # æœ€ç»ˆHTMLæŠ¥å‘Š
â”œâ”€â”€ utils/                                  # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ forum_reader.py                     # Agenté—´è®ºå›é€šä¿¡å·¥å…·
â”‚   â”œâ”€â”€ github_issues.py                    # ç»Ÿä¸€ç”ŸæˆGitHub Issueé“¾æ¥ä¸é”™è¯¯æç¤º
â”‚   â””â”€â”€ retry_helper.py                     # ç½‘ç»œè¯·æ±‚é‡è¯•æœºåˆ¶å·¥å…·
â”œâ”€â”€ tests/                                  # å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ run_tests.py                        # pytestå…¥å£è„šæœ¬
â”‚   â”œâ”€â”€ test_monitor.py                     # ForumEngineç›‘æ§å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ test_report_engine_sanitization.py  # ReportEngineå®‰å…¨æ€§æµ‹è¯•
â”‚   â””â”€â”€ ...
â”œâ”€â”€ app.py                                  # Flaskä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ config.py                               # å…¨å±€é…ç½®æ–‡ä»¶
â”œâ”€â”€ .env.example                            # ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ docker-compose.yml                      # Dockerå¤šæœåŠ¡ç¼–æ’é…ç½®
â”œâ”€â”€ Dockerfile                              # Dockeré•œåƒæ„å»ºæ–‡ä»¶
â”œâ”€â”€ requirements.txt                        # Pythonä¾èµ–åŒ…æ¸…å•
â”œâ”€â”€ regenerate_latest_pdf.py                # PDFé‡æ–°ç”Ÿæˆå·¥å…·è„šæœ¬
â”œâ”€â”€ report_engine_only.py                   # Report Engineå‘½ä»¤è¡Œç‰ˆæœ¬
â”œâ”€â”€ README.md                               # ä¸­æ–‡è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ README-EN.md                            # è‹±æ–‡è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ CONTRIBUTING.md                         # ä¸­æ–‡è´¡çŒ®æŒ‡å—
â”œâ”€â”€ CONTRIBUTING-EN.md                      # è‹±æ–‡è´¡çŒ®æŒ‡å—
â””â”€â”€ LICENSE                                 # GPL-2.0å¼€æºè®¸å¯è¯
```

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆDockerï¼‰

### 1. å¯åŠ¨é¡¹ç›®

å¤åˆ¶ä¸€ä»½ `.env.example` æ–‡ä»¶ï¼Œå‘½åä¸º `.env` ï¼Œå¹¶æŒ‰éœ€é…ç½® `.env` æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åœ¨åå°å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼š

```bash
docker compose up -d
```

> **æ³¨ï¼šé•œåƒæ‹‰å–é€Ÿåº¦æ…¢**ï¼Œåœ¨åŸ `docker-compose.yml` æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å·²ç»é€šè¿‡**æ³¨é‡Š**çš„æ–¹å¼æä¾›äº†å¤‡ç”¨é•œåƒåœ°å€ä¾›æ‚¨æ›¿æ¢

### 2. é…ç½®è¯´æ˜

#### æ•°æ®åº“é…ç½®ï¼ˆPostgreSQLï¼‰

è¯·æŒ‰ç…§ä»¥ä¸‹å‚æ•°é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œä¹Ÿæ”¯æŒMysqlå¯è‡ªè¡Œä¿®æ”¹ï¼š

| é…ç½®é¡¹ | å¡«å†™å€¼ | è¯´æ˜ |
| :--- | :--- | :--- |
| `DB_HOST` | `db` | æ•°æ®åº“æœåŠ¡åç§° (å¯¹åº” `docker-compose.yml` ä¸­çš„æœåŠ¡å) |
| `DB_PORT` | `5432` | é»˜è®¤ PostgreSQL ç«¯å£ |
| `DB_USER` | `bettafish` | æ•°æ®åº“ç”¨æˆ·å |
| `DB_PASSWORD` | `bettafish` | æ•°æ®åº“å¯†ç  |
| `DB_NAME` | `bettafish` | æ•°æ®åº“åç§° |
| **å…¶ä»–** | **ä¿æŒé»˜è®¤** | æ•°æ®åº“è¿æ¥æ± ç­‰å…¶ä»–å‚æ•°è¯·ä¿æŒé»˜è®¤è®¾ç½®ã€‚ |

#### å¤§æ¨¡å‹é…ç½®

> æˆ‘ä»¬æ‰€æœ‰ LLM è°ƒç”¨ä½¿ç”¨ OpenAI çš„ API æ¥å£æ ‡å‡†

åœ¨å®Œæˆæ•°æ®åº“é…ç½®åï¼Œè¯·æ­£å¸¸é…ç½®**æ‰€æœ‰å¤§æ¨¡å‹ç›¸å…³çš„å‚æ•°**ï¼Œç¡®ä¿ç³»ç»Ÿèƒ½å¤Ÿè¿æ¥åˆ°æ‚¨é€‰æ‹©çš„å¤§æ¨¡å‹æœåŠ¡ã€‚

å®Œæˆä¸Šè¿°æ‰€æœ‰é…ç½®å¹¶ä¿å­˜åï¼Œç³»ç»Ÿå³å¯æ­£å¸¸è¿è¡Œã€‚

## ğŸ”§ æºç å¯åŠ¨æŒ‡å—

> å¦‚æœä½ æ˜¯åˆæ¬¡å­¦ä¹ ä¸€ä¸ªAgentç³»ç»Ÿçš„æ­å»ºï¼Œå¯ä»¥ä»ä¸€ä¸ªéå¸¸ç®€å•çš„demoå¼€å§‹ï¼š[Deep Search Agent Demo](https://github.com/666ghj/DeepSearchAgent-Demo)

### ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windowsã€Linuxã€MacOS
- **Pythonç‰ˆæœ¬**: 3.9+
- **Conda**: Anacondaæˆ–Miniconda
- **æ•°æ®åº“**: PostgreSQLï¼ˆæ¨èï¼‰æˆ–MySQL
- **å†…å­˜**: å»ºè®®2GBä»¥ä¸Š

### 1. åˆ›å»ºç¯å¢ƒ

#### å¦‚æœä½¿ç”¨Conda

```bash
# åˆ›å»ºcondaç¯å¢ƒ
conda create -n your_conda_name python=3.11
conda activate your_conda_name
```

#### å¦‚æœä½¿ç”¨uv

```bash
# åˆ›å»ºuvç¯å¢ƒ
uv venv --python 3.11 # åˆ›å»º3.11ç¯å¢ƒ
```

### 2. å®‰è£… PDF å¯¼å‡ºæ‰€éœ€ç³»ç»Ÿä¾èµ–ï¼ˆå¯é€‰ï¼‰

è¿™éƒ¨åˆ†æœ‰è¯¦ç»†çš„é…ç½®è¯´æ˜ï¼š[é…ç½®æ‰€éœ€ä¾èµ–](./static/Partial%20README%20for%20PDF%20Exporting/README.md)

### 3. å®‰è£…ä¾èµ–åŒ…

> å¦‚æœè·³è¿‡äº†æ­¥éª¤2ï¼Œweasyprintåº“å¯èƒ½æ— æ³•å®‰è£…ï¼ŒPDFåŠŸèƒ½å¯èƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚

```bash
# åŸºç¡€ä¾èµ–å®‰è£…
pip install -r requirements.txt

# uvç‰ˆæœ¬å‘½ä»¤ï¼ˆæ›´å¿«é€Ÿå®‰è£…ï¼‰
uv pip install -r requirements.txt
# å¦‚æœä¸æƒ³ä½¿ç”¨æœ¬åœ°æƒ…æ„Ÿåˆ†ææ¨¡å‹ï¼ˆç®—åŠ›éœ€æ±‚å¾ˆå°ï¼Œé»˜è®¤å®‰è£…cpuç‰ˆæœ¬ï¼‰ï¼Œå¯ä»¥å°†è¯¥æ–‡ä»¶ä¸­çš„"æœºå™¨å­¦ä¹ "éƒ¨åˆ†æ³¨é‡Šæ‰å†æ‰§è¡ŒæŒ‡ä»¤
```

### 4. å®‰è£…Playwrightæµè§ˆå™¨é©±åŠ¨

```bash
# å®‰è£…æµè§ˆå™¨é©±åŠ¨ï¼ˆç”¨äºçˆ¬è™«åŠŸèƒ½ï¼‰
playwright install chromium
```

### 5. é…ç½®LLMä¸æ•°æ®åº“

å¤åˆ¶ä¸€ä»½é¡¹ç›®æ ¹ç›®å½• `.env.example` æ–‡ä»¶ï¼Œå‘½åä¸º `.env`

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„APIå¯†é’¥ï¼ˆæ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©è‡ªå·±çš„æ¨¡å‹ã€æœç´¢ä»£ç†ï¼Œè¯¦æƒ…è§æ ¹ç›®å½•.env.exampleæ–‡ä»¶å†…æˆ–æ ¹ç›®å½•config.pyä¸­çš„è¯´æ˜ï¼‰ï¼š

```yml
# ====================== æ•°æ®åº“é…ç½® ======================
# æ•°æ®åº“ä¸»æœºï¼Œä¾‹å¦‚localhost æˆ– 127.0.0.1
DB_HOST=your_db_host
# æ•°æ®åº“ç«¯å£å·ï¼Œé»˜è®¤ä¸º3306
DB_PORT=3306
# æ•°æ®åº“ç”¨æˆ·å
DB_USER=your_db_user
# æ•°æ®åº“å¯†ç 
DB_PASSWORD=your_db_password
# æ•°æ®åº“åç§°
DB_NAME=your_db_name
# æ•°æ®åº“å­—ç¬¦é›†ï¼Œæ¨èutf8mb4ï¼Œå…¼å®¹emoji
DB_CHARSET=utf8mb4
# æ•°æ®åº“ç±»å‹postgresqlæˆ–mysql
DB_DIALECT=postgresql
# æ•°æ®åº“ä¸éœ€è¦åˆå§‹åŒ–ï¼Œæ‰§è¡Œapp.pyæ—¶ä¼šè‡ªåŠ¨æ£€æµ‹

# ====================== LLMé…ç½® ======================
# æ‚¨å¯ä»¥æ›´æ”¹æ¯ä¸ªéƒ¨åˆ†LLMä½¿ç”¨çš„APIï¼Œåªè¦å…¼å®¹OpenAIè¯·æ±‚æ ¼å¼éƒ½å¯ä»¥
# é…ç½®æ–‡ä»¶å†…éƒ¨ç»™äº†æ¯ä¸€ä¸ªAgentçš„æ¨èLLMï¼Œåˆæ¬¡éƒ¨ç½²è¯·å…ˆå‚è€ƒæ¨èè®¾ç½®

# Insight Agent
INSIGHT_ENGINE_API_KEY=
INSIGHT_ENGINE_BASE_URL=
INSIGHT_ENGINE_MODEL_NAME=

# Media Agent
...
```

### 6. å¯åŠ¨ç³»ç»Ÿ

#### 6.1 å®Œæ•´ç³»ç»Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ¿€æ´»condaç¯å¢ƒ
conda activate your_conda_name

# å¯åŠ¨ä¸»åº”ç”¨å³å¯
python app.py
```

uv ç‰ˆæœ¬å¯åŠ¨å‘½ä»¤ 
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ¿€æ´»uvç¯å¢ƒ
.venv\Scripts\activate

# å¯åŠ¨ä¸»åº”ç”¨å³å¯
python app.py
```

> æ³¨1ï¼šä¸€æ¬¡è¿è¡Œç»ˆæ­¢åï¼Œstreamlit appå¯èƒ½ç»“æŸå¼‚å¸¸ä»ç„¶å ç”¨ç«¯å£ï¼Œæ­¤æ—¶æœç´¢å ç”¨ç«¯å£çš„è¿›ç¨‹killæ‰å³å¯

> æ³¨2ï¼šæ•°æ®çˆ¬å–éœ€è¦å•ç‹¬æ“ä½œï¼Œè§6.3æŒ‡å¼•

è®¿é—® http://localhost:5000 å³å¯ä½¿ç”¨å®Œæ•´ç³»ç»Ÿ

#### 6.2 å•ç‹¬å¯åŠ¨æŸä¸ªAgent

```bash
# å¯åŠ¨QueryEngine
streamlit run SingleEngineApp/query_engine_streamlit_app.py --server.port 8503

# å¯åŠ¨MediaEngine  
streamlit run SingleEngineApp/media_engine_streamlit_app.py --server.port 8502

# å¯åŠ¨InsightEngine
streamlit run SingleEngineApp/insight_engine_streamlit_app.py --server.port 8501
```

#### 6.3 çˆ¬è™«ç³»ç»Ÿå•ç‹¬ä½¿ç”¨

è¿™éƒ¨åˆ†æœ‰è¯¦ç»†çš„é…ç½®æ–‡æ¡£ï¼š[MindSpiderä½¿ç”¨è¯´æ˜](./MindSpider/README.md)

<div align="center">
<img src="MindSpider\img\example.png" alt="banner" width="600">

MindSpider è¿è¡Œç¤ºä¾‹
</div>

```bash
# è¿›å…¥çˆ¬è™«ç›®å½•
cd MindSpider

# é¡¹ç›®åˆå§‹åŒ–
python main.py --setup

# è¿è¡Œè¯é¢˜æå–ï¼ˆè·å–çƒ­ç‚¹æ–°é—»å’Œå…³é”®è¯ï¼‰
python main.py --broad-topic

# è¿è¡Œå®Œæ•´çˆ¬è™«æµç¨‹
python main.py --complete --date 2024-01-20

# ä»…è¿è¡Œè¯é¢˜æå–
python main.py --broad-topic --date 2024-01-20

# ä»…è¿è¡Œæ·±åº¦çˆ¬å–
python main.py --deep-sentiment --platforms xhs dy wb
```

#### 6.4 å‘½ä»¤è¡ŒæŠ¥å‘Šç”Ÿæˆå·¥å…·

è¯¥å·¥å…·ä¼šè·³è¿‡ä¸‰ä¸ªåˆ†æå¼•æ“çš„è¿è¡Œé˜¶æ®µï¼Œç›´æ¥è¯»å–å®ƒä»¬çš„æœ€æ–°æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶åœ¨æ— éœ€ Web ç•Œé¢çš„æƒ…å†µä¸‹ç”Ÿæˆç»¼åˆæŠ¥å‘Šï¼ˆåŒæ—¶çœç•¥æ–‡ä»¶å¢é‡æ ¡éªŒæ­¥éª¤ï¼‰ã€‚é€šå¸¸ç”¨äºå¯¹æŠ¥å‘Šç”Ÿæˆç»“æœä¸æ»¡æ„ã€éœ€è¦å¿«é€Ÿé‡è¯•çš„åœºæ™¯ï¼Œæˆ–åœ¨è°ƒè¯• Report Engine æ—¶å¯ç”¨ã€‚

```bash
# åŸºæœ¬ä½¿ç”¨ï¼ˆè‡ªåŠ¨ä»æ–‡ä»¶åæå–ä¸»é¢˜ï¼‰
python report_engine_only.py

# æŒ‡å®šæŠ¥å‘Šä¸»é¢˜
python report_engine_only.py --query "åœŸæœ¨å·¥ç¨‹è¡Œä¸šåˆ†æ"

# è·³è¿‡PDFç”Ÿæˆï¼ˆå³ä½¿ç³»ç»Ÿæ”¯æŒï¼‰
python report_engine_only.py --skip-pdf

# æ˜¾ç¤ºè¯¦ç»†æ—¥å¿—
python report_engine_only.py --verbose

# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
python report_engine_only.py --help
```

**åŠŸèƒ½è¯´æ˜ï¼š**

1. **è‡ªåŠ¨æ£€æŸ¥ä¾èµ–**ï¼šç¨‹åºä¼šè‡ªåŠ¨æ£€æŸ¥PDFç”Ÿæˆæ‰€éœ€çš„ç³»ç»Ÿä¾èµ–ï¼Œå¦‚æœç¼ºå¤±ä¼šç»™å‡ºå®‰è£…æç¤º
2. **è·å–æœ€æ–°æ–‡ä»¶**ï¼šè‡ªåŠ¨ä»ä¸‰ä¸ªå¼•æ“ç›®å½•ï¼ˆ`insight_engine_streamlit_reports`ã€`media_engine_streamlit_reports`ã€`query_engine_streamlit_reports`ï¼‰è·å–æœ€æ–°çš„åˆ†ææŠ¥å‘Š
3. **æ–‡ä»¶ç¡®è®¤**ï¼šæ˜¾ç¤ºæ‰€æœ‰é€‰æ‹©çš„æ–‡ä»¶åã€è·¯å¾„å’Œä¿®æ”¹æ—¶é—´ï¼Œç­‰å¾…ç”¨æˆ·ç¡®è®¤ï¼ˆé»˜è®¤è¾“å…¥ `y` ç»§ç»­ï¼Œè¾“å…¥ `n` é€€å‡ºï¼‰
4. **ç›´æ¥ç”ŸæˆæŠ¥å‘Š**ï¼šè·³è¿‡æ–‡ä»¶å¢åŠ å®¡æ ¸ç¨‹åºï¼Œç›´æ¥è°ƒç”¨Report Engineç”Ÿæˆç»¼åˆæŠ¥å‘Š
5. **è‡ªåŠ¨ä¿å­˜æ–‡ä»¶**ï¼š
   - HTMLæŠ¥å‘Šä¿å­˜åˆ° `final_reports/` ç›®å½•
   - PDFæŠ¥å‘Šï¼ˆå¦‚æœæœ‰ä¾èµ–ï¼‰ä¿å­˜åˆ° `final_reports/pdf/` ç›®å½•
   - æ–‡ä»¶å‘½åæ ¼å¼ï¼š`final_report_{ä¸»é¢˜}_{æ—¶é—´æˆ³}.html/pdf`

**æ³¨æ„äº‹é¡¹ï¼š**

- ç¡®ä¿ä¸‰ä¸ªå¼•æ“ç›®å½•ä¸­è‡³å°‘æœ‰ä¸€ä¸ªåŒ…å«`.md`æŠ¥å‘Šæ–‡ä»¶
- å‘½ä»¤è¡Œå·¥å…·ä¸Webç•Œé¢ç›¸äº’ç‹¬ç«‹ï¼Œä¸ä¼šç›¸äº’å½±å“
- PDFç”Ÿæˆéœ€è¦å®‰è£…ç³»ç»Ÿä¾èµ–ï¼Œè¯¦è§ä¸Šæ–‡"å®‰è£… PDF å¯¼å‡ºæ‰€éœ€ç³»ç»Ÿä¾èµ–"éƒ¨åˆ†

## âš™ï¸ é«˜çº§é…ç½®ï¼ˆå·²è¿‡æ—¶ï¼Œå·²ç»ç»Ÿä¸€ä¸ºé¡¹ç›®æ ¹ç›®å½•.envæ–‡ä»¶ç®¡ç†ï¼Œå…¶ä»–å­agentè‡ªåŠ¨ç»§æ‰¿æ ¹ç›®å½•é…ç½®ï¼‰

### ä»£ç æ‰§è¡Œç»†èŠ‚

#### Flaskåº”ç”¨åˆå§‹åŒ–ç»†èŠ‚
```python
# app.py æ ¸å¿ƒåˆå§‹åŒ–ä»£ç 
app = Flask(__name__)
app.config['SECRET_KEY'] = 'Dedicated-to-creating-a-concise-and-versatile-public-opinion-analysis-platform'

# å¼‚æ­¥æ¨¡å¼æ™ºèƒ½é€‰æ‹©
try:
    import gevent
    async_mode = 'gevent'
except ImportError:
    try:
        import eventlet
        async_mode = 'eventlet'
    except ImportError:
        async_mode = 'threading'

socketio = SocketIO(app, cors_allowed_origins="*", async_mode=async_mode)
```

#### è¿›ç¨‹ç®¡ç†æœºåˆ¶
- å­è¿›ç¨‹ç®¡ç†å­—å…¸ (processes:516)
- è¾“å‡ºé˜Ÿåˆ—ç³»ç»Ÿ (output_queues:545)
- å¥åº·æ£€æŸ¥æœºåˆ¶ (check_app_status:767)
- ä¼˜é›…å…³é—­æµç¨‹ (cleanup_processes_concurrent:833)

#### æ—¥å¿—ç›‘æ§å®ç°
```python
# ForumEngineç›‘æ§ç›®æ ‡
target_node_patterns = [
    'FirstSummaryNode',
    'ReflectionSummaryNode',
    'InsightEngine.nodes.summary_node',
    'MediaEngine.nodes.summary_node',
    'QueryEngine.nodes.summary_node',
    'æ­£åœ¨ç”Ÿæˆé¦–æ¬¡æ®µè½æ€»ç»“',
    'æ­£åœ¨ç”Ÿæˆåæ€æ€»ç»“',
]
```

### ä¿®æ”¹å…³é”®å‚æ•°

#### Agenté…ç½®å‚æ•°

æ¯ä¸ªAgentéƒ½æœ‰ä¸“é—¨çš„é…ç½®æ–‡ä»¶ï¼Œå¯æ ¹æ®éœ€æ±‚è°ƒæ•´ï¼Œä¸‹é¢æ˜¯éƒ¨åˆ†ç¤ºä¾‹ï¼š

```python
# QueryEngine/utils/config.py
class Config:
    max_reflections = 2           # åæ€è½®æ¬¡
    max_search_results = 15       # æœ€å¤§æœç´¢ç»“æœæ•°
    max_content_length = 8000     # æœ€å¤§å†…å®¹é•¿åº¦
    
# MediaEngine/utils/config.py  
class Config:
    comprehensive_search_limit = 10  # ç»¼åˆæœç´¢é™åˆ¶
    web_search_limit = 15           # ç½‘é¡µæœç´¢é™åˆ¶
    
# InsightEngine/utils/config.py
class Config:
    default_search_topic_globally_limit = 200    # å…¨å±€æœç´¢é™åˆ¶
    default_get_comments_limit = 500             # è¯„è®ºè·å–é™åˆ¶
    max_search_results_for_llm = 50              # ä¼ ç»™LLMçš„æœ€å¤§ç»“æœæ•°
```

#### æƒ…æ„Ÿåˆ†ææ¨¡å‹é…ç½®

```python
# InsightEngine/tools/sentiment_analyzer.py
SENTIMENT_CONFIG = {
    'model_type': 'multilingual',     # å¯é€‰: 'bert', 'multilingual', 'qwen'ç­‰
    'confidence_threshold': 0.8,      # ç½®ä¿¡åº¦é˜ˆå€¼
    'batch_size': 32,                 # æ‰¹å¤„ç†å¤§å°
    'max_sequence_length': 512,       # æœ€å¤§åºåˆ—é•¿åº¦
}
```

### æ¥å…¥ä¸åŒçš„LLMæ¨¡å‹

æ”¯æŒä»»æ„openAIè°ƒç”¨æ ¼å¼çš„LLMæä¾›å•†ï¼Œåªéœ€è¦åœ¨/config.pyä¸­å¡«å†™å¯¹åº”çš„KEYã€BASE_URLã€MODEL_NAMEå³å¯ã€‚

> ä»€ä¹ˆæ˜¯openAIè°ƒç”¨æ ¼å¼ï¼Ÿä¸‹é¢æä¾›ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š
>```python
>from openai import OpenAI
>
>client = OpenAI(api_key="your_api_key", 
>                base_url="https://api.siliconflow.cn/v1")
>
>response = client.chat.completions.create(
>    model="Qwen/Qwen2.5-72B-Instruct",
>    messages=[
>        {'role': 'user', 
>         'content': "æ¨ç†æ¨¡å‹ä¼šç»™å¸‚åœºå¸¦æ¥å“ªäº›æ–°çš„æœºä¼š"}
>    ],
>)
>
>complete_response = response.choices[0].message.content
>print(complete_response)
>```

### æ›´æ”¹æƒ…æ„Ÿåˆ†ææ¨¡å‹

ç³»ç»Ÿé›†æˆäº†å¤šç§æƒ…æ„Ÿåˆ†ææ–¹æ³•ï¼Œå¯æ ¹æ®éœ€æ±‚é€‰æ‹©ï¼š

#### 1. å¤šè¯­è¨€æƒ…æ„Ÿåˆ†æ

```bash
cd SentimentAnalysisModel/WeiboMultilingualSentiment
python predict.py --text "This product is amazing!" --lang "en"
```

#### 2. å°å‚æ•°Qwen3å¾®è°ƒ

```bash
cd SentimentAnalysisModel/WeiboSentiment_SmallQwen
python predict_universal.py --text "è¿™æ¬¡æ´»åŠ¨åŠå¾—å¾ˆæˆåŠŸ"
```

#### 3. åŸºäºBERTçš„å¾®è°ƒæ¨¡å‹

```bash
# ä½¿ç”¨BERTä¸­æ–‡æ¨¡å‹
cd SentimentAnalysisModel/WeiboSentiment_Finetuned/BertChinese-Lora
python predict.py --text "è¿™ä¸ªäº§å“çœŸçš„å¾ˆä¸é”™"
```

#### 4. GPT-2 LoRAå¾®è°ƒæ¨¡å‹

```bash
cd SentimentAnalysisModel/WeiboSentiment_Finetuned/GPT2-Lora
python predict.py --text "ä»Šå¤©å¿ƒæƒ…ä¸å¤ªå¥½"
```

#### 5. ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•

```bash
cd SentimentAnalysisModel/WeiboSentiment_MachineLearning
python predict.py --model_type "svm" --text "æœåŠ¡æ€åº¦éœ€è¦æ”¹è¿›"
```

### æ¥å…¥è‡ªå®šä¹‰ä¸šåŠ¡æ•°æ®åº“

#### 1. ä¿®æ”¹æ•°æ®åº“è¿æ¥é…ç½®

```python
# config.py ä¸­æ·»åŠ æ‚¨çš„ä¸šåŠ¡æ•°æ®åº“é…ç½®
BUSINESS_DB_HOST = "your_business_db_host"
BUSINESS_DB_PORT = 3306
BUSINESS_DB_USER = "your_business_user"
BUSINESS_DB_PASSWORD = "your_business_password"
BUSINESS_DB_NAME = "your_business_database"
```

#### 2. åˆ›å»ºè‡ªå®šä¹‰æ•°æ®è®¿é—®å·¥å…·

```python
# InsightEngine/tools/custom_db_tool.py
class CustomBusinessDBTool:
    """è‡ªå®šä¹‰ä¸šåŠ¡æ•°æ®åº“æŸ¥è¯¢å·¥å…·"""
    
    def __init__(self):
        self.connection_config = {
            'host': config.BUSINESS_DB_HOST,
            'port': config.BUSINESS_DB_PORT,
            'user': config.BUSINESS_DB_USER,
            'password': config.BUSINESS_DB_PASSWORD,
            'database': config.BUSINESS_DB_NAME,
        }
    
    def search_business_data(self, query: str, table: str):
        """æŸ¥è¯¢ä¸šåŠ¡æ•°æ®"""
        # å®ç°æ‚¨çš„ä¸šåŠ¡é€»è¾‘
        pass
    
    def get_customer_feedback(self, product_id: str):
        """è·å–å®¢æˆ·åé¦ˆæ•°æ®"""
        # å®ç°å®¢æˆ·åé¦ˆæŸ¥è¯¢é€»è¾‘
        pass
```

#### 3. é›†æˆåˆ°InsightEngine

```python
# InsightEngine/agent.py ä¸­é›†æˆè‡ªå®šä¹‰å·¥å…·
from .tools.custom_db_tool import CustomBusinessDBTool

class DeepSearchAgent:
    def __init__(self, config=None):
        # ... å…¶ä»–åˆå§‹åŒ–ä»£ç 
        self.custom_db_tool = CustomBusinessDBTool()
    
    def execute_custom_search(self, query: str):
        """æ‰§è¡Œè‡ªå®šä¹‰ä¸šåŠ¡æ•°æ®æœç´¢"""
        return self.custom_db_tool.search_business_data(query, "your_table")
```

### è‡ªå®šä¹‰æŠ¥å‘Šæ¨¡æ¿

#### 1. åœ¨Webç•Œé¢ä¸­ä¸Šä¼ 

ç³»ç»Ÿæ”¯æŒä¸Šä¼ è‡ªå®šä¹‰æ¨¡æ¿æ–‡ä»¶ï¼ˆ.mdæˆ–.txtæ ¼å¼ï¼‰ï¼Œå¯åœ¨ç”ŸæˆæŠ¥å‘Šæ—¶é€‰æ‹©ä½¿ç”¨ã€‚

#### 2. åˆ›å»ºæ¨¡æ¿æ–‡ä»¶

åœ¨ `ReportEngine/report_template/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æ¨¡æ¿ï¼Œæˆ‘ä»¬çš„Agentä¼šè‡ªè¡Œé€‰ç”¨æœ€åˆé€‚çš„æ¨¡æ¿ã€‚

## å…è´¹æœç´¢æ›¿ä»£æ–¹æ¡ˆåˆ†ææŠ¥å‘Š

       1. æœç´¢å¼•æ“APIæ–¹æ¡ˆ

       Google Custom Search API

       - å…è´¹é¢åº¦ï¼š100æ¬¡/å¤©ï¼ˆå…è´¹å±‚çº§ï¼‰ï¼Œ$5/1000æ¬¡çš„ä»˜è´¹å±‚çº§        
       - APIè°ƒç”¨éš¾åº¦ï¼šä¸­ç­‰ï¼ˆéœ€è¦APIå¯†é’¥ï¼Œæœ‰ä½¿ç”¨é…é¢ï¼‰
       - ä¸­æ–‡æ”¯æŒï¼šä¼˜ç§€ï¼ŒåŸç”Ÿä¸­æ–‡æœç´¢æ”¯æŒ
       - æ•°æ®è´¨é‡ï¼šé«˜ï¼ŒGoogleæœç´¢ç»“æœè´¨é‡å¥½
       - å®æ—¶æ€§ï¼šå®æ—¶æ›´æ–°ï¼Œç´¢å¼•é€Ÿåº¦å¿«
       - æ³•å¾‹åˆè§„æ€§ï¼šâœ… è‰¯å¥½ï¼ŒGoogleåœ¨åˆè§„æ–¹é¢åšå¾—è¾ƒå¥½
       - é€‚åˆåº¦ï¼šâ­â­â­â­â­ é€‚åˆä½œä¸ºä¸»è¦æœç´¢å¼•æ“è¡¥å……

       Bing Search API

       - å…è´¹é¢åº¦ï¼š1000æ¬¡/æœˆï¼ˆå…è´¹å±‚çº§ï¼‰ï¼Œä»˜è´¹å±‚çº§æ›´é«˜
       - APIè°ƒç”¨éš¾åº¦ï¼šä¸­ç­‰ï¼ˆAzureå¯†é’¥é…ç½®ï¼‰
       - ä¸­æ–‡æ”¯æŒï¼šè‰¯å¥½ï¼Œå¯¹ä¸­æ–‡å†…å®¹æ”¯æŒä¸é”™
       - æ•°æ®è´¨é‡ï¼šä¸­é«˜ï¼ŒBingæœç´¢è´¨é‡æŒç»­æ”¹è¿›
       - å®æ—¶æ€§ï¼šè‰¯å¥½ï¼Œæ›´æ–°é¢‘ç‡é€‚ä¸­
       - æ³•å¾‹åˆè§„æ€§ï¼šâœ… è‰¯å¥½ï¼Œå¾®è½¯åˆè§„è¦æ±‚ä¸¥æ ¼
       - é€‚åˆåº¦ï¼šâ­â­â­â­â­ é€‚åˆä½œä¸ºå¤‡é€‰æœç´¢å¼•æ“

       SearxNGï¼ˆå¼€æºï¼‰

       - å…è´¹é¢åº¦ï¼šæ— é™åˆ¶ï¼ˆè‡ªæ‰˜ç®¡ï¼Œç¡¬ä»¶é™åˆ¶ï¼‰
       - APIè°ƒç”¨éš¾åº¦ï¼šé«˜ï¼ˆéœ€è¦è‡ªå»ºå’Œç»´æŠ¤æœåŠ¡å™¨ï¼‰
       - ä¸­æ–‡æ”¯æŒï¼šä¸­ç­‰ï¼ˆå–å†³äºåç«¯æœç´¢å¼•æ“ï¼‰
       - æ•°æ®è´¨é‡ï¼šä¸­ä½ï¼ˆèšåˆå¤šä¸ªæœç´¢ç»“æœï¼Œè´¨é‡å‚å·®ä¸é½ï¼‰
       - å®æ—¶æ€§ï¼šä¸€èˆ¬ï¼Œå–å†³äºèšåˆçš„æœç´¢å¼•æ“
       - æ³•å¾‹åˆè§„æ€§ï¼šâœ… ä¼˜ç§€ï¼Œå¼€æºé€æ˜ï¼Œæ— å•†ä¸šé™åˆ¶
       - é€‚åˆåº¦ï¼šâ­â­â­ è‡ªå»ºæŠ€æœ¯é—¨æ§›é«˜ï¼Œä½†é•¿æœŸæˆæœ¬ä½

       2. ç¤¾äº¤åª’ä½“ä¸“ç”¨APIæ–¹æ¡ˆ

       å¾®åšå¼€æ”¾å¹³å°API

       - å…è´¹é¢åº¦ï¼šæœ‰é™åˆ¶ï¼ˆå…·ä½“é¢åº¦ä¸å…¬å¼€ï¼Œé€šå¸¸è¾ƒä½ï¼‰
       - APIè°ƒç”¨éš¾åº¦ï¼šé«˜ï¼ˆéœ€è¦ä¼ä¸šèµ„è´¨å®¡æ ¸ï¼‰
       - ä¸­æ–‡æ”¯æŒï¼šâŒ ä»…é™å®˜æ–¹å†…å®¹ï¼Œéš¾ä»¥è·å–ç”¨æˆ·ç”Ÿæˆå†…å®¹
       - æ•°æ®è´¨é‡ï¼šä¸­ä½ï¼Œå®˜æ–¹æ•°æ®æœ‰é™
       - å®æ—¶æ€§ï¼šè‰¯å¥½ï¼Œå®˜æ–¹æ›´æ–°åŠæ—¶
       - æ³•å¾‹åˆè§„æ€§ï¼šâŒ ä¸ªäººå¼€å‘è€…éš¾ä»¥è·å¾—èµ„è´¨
       - é€‚åˆåº¦ï¼šâ­ ä¸é€‚åˆç‹¬ç«‹å¼€å‘è€…

       Bç«™å¼€æ”¾API

       - å…è´¹é¢åº¦ï¼š100-300æ¬¡/åˆ†é’Ÿ
       - APIè°ƒç”¨éš¾åº¦ï¼šä¸­ç­‰ï¼ˆéœ€è¦OAuthè®¤è¯ï¼‰
       - ä¸­æ–‡æ”¯æŒï¼šâŒ ä»…é™å®˜æ–¹æ¥å£ï¼Œçˆ¬è™«ç­–ç•¥å—é™
       - æ•°æ®è´¨é‡ï¼šä¸­ä½ï¼Œæ•°æ®è·å–å—é™
       - å®æ—¶æ€§ï¼šè‰¯å¥½ï¼Œä½†APIé™åˆ¶ä¸¥æ ¼
       - æ³•å¾‹åˆè§„æ€§ï¼šâŒ è¿è§„ä½¿ç”¨å¯èƒ½è¢«å°ç¦
       - é€‚åˆåº¦ï¼šâ­â­ æŠ€æœ¯å¯è¡Œä½†é£é™©è¾ƒé«˜

       çŸ¥ä¹å¼€æ”¾API

       - å…è´¹é¢åº¦ï¼š100-200è¯·æ±‚/å°æ—¶
       - APIè°ƒç”¨éš¾åº¦ï¼šé«˜ï¼ˆéœ€è¦ä¸­å›½èº«ä»½è®¤è¯ï¼‰
       - ä¸­æ–‡æ”¯æŒï¼šâŒ ä¸ªäººå¼€å‘è€…éš¾ä»¥æ³¨å†Œ
       - æ•°æ®è´¨é‡ï¼šé«˜ï¼Œä½†è·å–éš¾åº¦å¤§
       - å®æ—¶æ€§ï¼šè‰¯å¥½ï¼Œä½†å®˜æ–¹APIé™åˆ¶å¤š
       - æ³•å¾‹åˆè§„æ€§ï¼šâŒ å¯¹æµ·å¤–å¼€å‘è€…ä¸å‹å¥½
       - é€‚åˆåº¦ï¼šâ­ ä¸é€‚åˆæµ·å¤–å›¢é˜Ÿ

       Reddit API

       - å…è´¹é¢åº¦ï¼š100æ¬¡/å¤©ï¼ˆ2025å¹´æ–°é™åˆ¶ï¼‰
       - APIè°ƒç”¨éš¾åº¦ï¼šä¸­ç­‰ï¼ˆOAuthè®¤è¯ï¼ŒPRAWåº“æ”¯æŒï¼‰
       - ä¸­æ–‡æ”¯æŒï¼šâŒ ä¸»è¦æ˜¯è‹±æ–‡å†…å®¹
       - æ•°æ®è´¨é‡ï¼šä¸­é«˜ï¼Œä½†è‹±æ–‡ä¸ºä¸»
       - å®æ—¶æ€§ï¼šè‰¯å¥½ï¼Œæ›´æ–°åŠæ—¶
       - æ³•å¾‹åˆè§„æ€§ï¼šâœ… å…è®¸APIä½¿ç”¨
       - é€‚åˆåº¦ï¼šâ­â­ é€‚åˆå›½é™…åŒ–å†…å®¹è¡¥å……

       3. å…¶ä»–è§£å†³æ–¹æ¡ˆ

       RSSèšåˆæœç´¢

       - å…è´¹é¢åº¦ï¼šæ— é™åˆ¶ï¼ˆå–å†³äºRSSæºæ•°é‡ï¼‰
       - APIè°ƒç”¨éš¾åº¦ï¼šä½ï¼ˆfeedparserç­‰åº“æˆç†Ÿï¼‰
       - ä¸­æ–‡æ”¯æŒï¼šâœ… ä¼˜ç§€ï¼Œæ”¯æŒä¸­æ–‡RSS
       - æ•°æ®è´¨é‡ï¼šä¸­é«˜ï¼Œå–å†³äºRSSæºè´¨é‡
       - å®æ—¶æ€§ï¼šä¸€èˆ¬ï¼Œä¾èµ–RSSæ›´æ–°é¢‘ç‡
       - æ³•å¾‹åˆè§„æ€§ï¼šâœ… RSSä¸ºå…¬å¼€å†…å®¹ï¼Œåˆæ³•ä½¿ç”¨
       - é€‚åˆåº¦ï¼šâ­â­â­â­âœ¨ æ¨èä½œä¸ºå†…å®¹æºè¡¥å……

       Telegram Bot API

       - å…è´¹é¢åº¦ï¼š30æ¶ˆæ¯/ç§’/ç”¨æˆ·ï¼Œæ— æ€»é‡é™åˆ¶
       - APIè°ƒç”¨éš¾åº¦ï¼šä½ï¼ˆæˆç†ŸAPIï¼Œå®˜æ–¹æ–‡æ¡£å®Œå–„ï¼‰
       - ä¸­æ–‡æ”¯æŒï¼šâœ… ä¼˜ç§€ï¼Œæ”¯æŒä¸­æ–‡é¢‘é“
       - æ•°æ®è´¨é‡ï¼šä¸­é«˜ï¼Œå†…å®¹è´¨é‡å–å†³äºé¢‘é“è´¨é‡
       - å®æ—¶æ€§ï¼šä¼˜ç§€ï¼Œå‡ ä¹å®æ—¶æ¨é€
       - æ³•å¾‹åˆè§„æ€§ï¼šâœ… åˆæ³•ä½¿ç”¨ï¼Œä½†éœ€éµå®ˆå¹³å°è§„åˆ™
       - é€‚åˆåº¦ï¼šâ­â­â­â­ é€‚åˆç‰¹å®šå†…å®¹ç›‘æ§

       Scrapyæ¡†æ¶

       - å…è´¹é¢åº¦ï¼šæ— é™åˆ¶ï¼ˆè‡ªå·±æ§åˆ¶ï¼‰
       - APIè°ƒç”¨éš¾åº¦ï¼šé«˜ï¼ˆéœ€è¦å¤„ç†åçˆ¬ã€éªŒè¯ç ç­‰ï¼‰
       - ä¸­æ–‡æ”¯æŒï¼šâœ… ä¼˜ç§€ï¼Œæ”¯æŒä¸­æ–‡ç¼–ç 
       - æ•°æ®è´¨é‡ï¼šé«˜ï¼Œä½†éœ€è¦å¤§é‡ç»´æŠ¤å·¥ä½œ
       - å®æ—¶æ€§ï¼šä¸€èˆ¬ï¼Œå—é™äºçˆ¬å–é¢‘ç‡
       - æ³•å¾‹åˆè§„æ€§ï¼šâŒ ä¾µæƒé£é™©é«˜ï¼Œå°¤å…¶åœ¨å›½å†…ç½‘ç«™
       - é€‚åˆåº¦ï¼šâ­â­ æŠ€æœ¯å¯è¡Œä½†æ³•å¾‹é£é™©é«˜

       ğŸ¯ æ¨èé›†æˆæ–¹æ¡ˆ

       æ–¹æ¡ˆä¸€ï¼šæ··åˆAPIæ¶æ„ï¼ˆæ¨èï¼‰

       ä¸»å¼•æ“ç»„åˆï¼š
       1. Bing Search API (1000æ¬¡/æœˆå…è´¹) - ä¸»è¦æœç´¢å¼•æ“
       2. RSSèšåˆ - è¡¥å……å†…å®¹æº
       3. Telegram Bot API - ç‰¹å®šé¢‘é“ç›‘æ§

       ä¼˜ç‚¹ï¼š
       - å…è´¹é¢åº¦å……è¶³ï¼Œè¦†ç›–ä¸»è¦éœ€æ±‚
       - æŠ€æœ¯å®ç°éš¾åº¦é€‚ä¸­
       - æ³•å¾‹åˆè§„æ€§è‰¯å¥½
       - æ•°æ®æºå¤šæ ·åŒ–

       æ–¹æ¡ˆäºŒï¼šè‡ªå»ºSearxNG + RSS

       è‡ªå»ºç»„ä»¶ï¼š
       1. SearxNGå®ä¾‹ - æœç´¢å¼•æ“èšåˆ
       2. RSSèšåˆå™¨ - æ–°é—»å’Œåšå®¢
       3. å®šæ—¶çˆ¬è™«ï¼ˆåˆè§„ç½‘ç«™ï¼‰- è¡¥å……æ•°æ®

       ä¼˜ç‚¹ï¼š
       - é›¶æˆæœ¬è¿è¡Œ
       - æ•°æ®å®Œå…¨å¯æ§
       - é•¿æœŸç»´æŠ¤æˆæœ¬ä½

       æ–¹æ¡ˆä¸‰ï¼šå¼€æºæ›¿ä»£æ–¹æ¡ˆ

       å¼€æºç»„ä»¶ï¼š
       1. DuckDuckGo Instant Answer API
       2. Wikipedia API
       3. NewsAPI.org (æœ‰å…è´¹å±‚çº§)
       4. å›½å†…å¼€æºæ•°æ®æºï¼ˆå¦‚ï¼šä»Šæ—¥çƒ­æ¦œAPIï¼‰

       ğŸš€ å®æ–½å»ºè®®

       1. çŸ­æœŸå®æ–½ï¼ˆ1-2å‘¨ï¼‰ï¼š
         - é›†æˆBing Search APIå’ŒRSSèšåˆ
         - æµ‹è¯•æ•°æ®è´¨é‡å’Œè¦†ç›–ç‡
       2. ä¸­æœŸæ‰©å±•ï¼ˆ1-2æœˆï¼‰ï¼š
         - æ·»åŠ Telegramé¢‘é“ç›‘æ§
         - å®ç°RSSæºè‡ªåŠ¨å‘ç°å’Œæ·»åŠ 
       3. é•¿æœŸä¼˜åŒ–ï¼ˆ3-6æœˆï¼‰ï¼š
         - è€ƒè™‘è‡ªå»ºSearxNGå®ä¾‹
         - å¼€å‘ä¸“ç”¨çš„ä¸­æ–‡æœç´¢å¼•æ“æ’ä»¶

       âš ï¸ æ³¨æ„äº‹é¡¹

       1. APIè°ƒç”¨ç­–ç•¥ï¼š
         - å®ç°è¯·æ±‚ç¼“å­˜ï¼Œå‡å°‘APIè°ƒç”¨
         - ä½¿ç”¨å¼‚æ­¥è¯·æ±‚æé«˜æ•ˆç‡
         - è®¾ç½®åˆç†çš„é‡è¯•æœºåˆ¶
       2. æ•°æ®è´¨é‡ä¿è¯ï¼š
         - å¤šæºæ•°æ®äº¤å‰éªŒè¯
         - å®ç°å»é‡å’Œè´¨é‡è¯„åˆ†
         - å»ºç«‹æ•°æ®æ¸…æ´—æµç¨‹
       3. æ³•å¾‹åˆè§„æ€§ï¼š
         - éµå®ˆå„å¹³å°APIä½¿ç”¨æ¡æ¬¾
         - å°Šé‡robots.txtåè®®
         - åˆç†æ§åˆ¶è¯·æ±‚é¢‘ç‡

       è¿™ä¸ªæ–¹æ¡ˆæ—¢è€ƒè™‘äº†å…è´¹é™åˆ¶ï¼Œåˆç¡®ä¿äº†ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œæ‰©å±•æ€§ï¼Œ     
       ç‰¹åˆ«é€‚åˆBettaFishé¡¹ç›®çš„èˆ†æƒ…åˆ†æéœ€æ±‚ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

**è¯·é˜…è¯»ä»¥ä¸‹è´¡çŒ®æŒ‡å—ï¼š**  
- [CONTRIBUTING.md](./CONTRIBUTING.md)

## ğŸ¦– ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

ç°åœ¨ç³»ç»Ÿåªå®Œæˆäº†"ä¸‰æ¿æ–§"ä¸­çš„å‰ä¸¤æ­¥ï¼Œå³ï¼šè¾“å…¥è¦æ±‚->è¯¦ç»†åˆ†æï¼Œè¿˜ç¼ºå°‘ä¸€æ­¥é¢„æµ‹ï¼Œç›´æ¥å°†ä»–ç»§ç»­äº¤ç»™LLMæ˜¯ä¸å…·æœ‰è¯´æœåŠ›çš„ã€‚

<div align="center">
<img src="static/image/banner_compressed.png" alt="banner" width="800">
</div>

ç›®å‰æˆ‘ä»¬ç»è¿‡å¾ˆé•¿ä¸€æ®µæ—¶é—´çš„çˆ¬å–æ”¶é›†ï¼Œæ‹¥æœ‰äº†å¤§é‡å…¨ç½‘è¯é¢˜çƒ­åº¦éšæ—¶é—´ã€çˆ†ç‚¹ç­‰çš„å˜åŒ–è¶‹åŠ¿çƒ­åº¦æ•°æ®ï¼Œå·²ç»å…·å¤‡äº†å¯ä»¥å¼€å‘é¢„æµ‹æ¨¡å‹çš„æ¡ä»¶ã€‚æˆ‘ä»¬å›¢é˜Ÿå°†è¿ç”¨æ—¶åºæ¨¡å‹ã€å›¾ç¥ç»ç½‘ç»œã€å¤šæ¨¡æ€èåˆç­‰é¢„æµ‹æ¨¡å‹æŠ€æœ¯å‚¨å¤‡äºæ­¤ï¼Œå®ç°çœŸæ­£åŸºäºæ•°æ®é©±åŠ¨çš„èˆ†æƒ…é¢„æµ‹åŠŸèƒ½ã€‚

## âš ï¸ å…è´£å£°æ˜

**é‡è¦æé†’ï¼šæœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ ã€å­¦æœ¯ç ”ç©¶å’Œæ•™è‚²ç›®çš„ä½¿ç”¨**

1. **åˆè§„æ€§å£°æ˜**ï¼š
   - æœ¬é¡¹ç›®ä¸­çš„æ‰€æœ‰ä»£ç ã€å·¥å…·å’ŒåŠŸèƒ½å‡ä»…ä¾›å­¦ä¹ ã€å­¦æœ¯ç ”ç©¶å’Œæ•™è‚²ç›®çš„ä½¿ç”¨
   - ä¸¥ç¦å°†æœ¬é¡¹ç›®ç”¨äºä»»ä½•å•†ä¸šç”¨é€”æˆ–ç›ˆåˆ©æ€§æ´»åŠ¨
   - ä¸¥ç¦å°†æœ¬é¡¹ç›®ç”¨äºä»»ä½•è¿æ³•ã€è¿è§„æˆ–ä¾µçŠ¯ä»–äººæƒç›Šçš„è¡Œä¸º

2. **çˆ¬è™«åŠŸèƒ½å…è´£**ï¼š
   - é¡¹ç›®ä¸­çš„çˆ¬è™«åŠŸèƒ½ä»…ç”¨äºæŠ€æœ¯å­¦ä¹ å’Œç ”ç©¶ç›®çš„
   - ä½¿ç”¨è€…å¿…é¡»éµå®ˆç›®æ ‡ç½‘ç«™çš„robots.txtåè®®å’Œä½¿ç”¨æ¡æ¬¾
   - ä½¿ç”¨è€…å¿…é¡»éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ï¼Œä¸å¾—è¿›è¡Œæ¶æ„çˆ¬å–æˆ–æ•°æ®æ»¥ç”¨
   - å› ä½¿ç”¨çˆ¬è™«åŠŸèƒ½äº§ç”Ÿçš„ä»»ä½•æ³•å¾‹åæœç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…

3. **æ•°æ®ä½¿ç”¨å…è´£**ï¼š
   - é¡¹ç›®æ¶‰åŠçš„æ•°æ®åˆ†æåŠŸèƒ½ä»…ä¾›å­¦æœ¯ç ”ç©¶ä½¿ç”¨
   - ä¸¥ç¦å°†åˆ†æç»“æœç”¨äºå•†ä¸šå†³ç­–æˆ–ç›ˆåˆ©ç›®çš„
   - ä½¿ç”¨è€…åº”ç¡®ä¿æ‰€åˆ†ææ•°æ®çš„åˆæ³•æ€§å’Œåˆè§„æ€§

4. **æŠ€æœ¯å…è´£**ï¼š
   - æœ¬é¡¹ç›®æŒ‰"ç°çŠ¶"æä¾›ï¼Œä¸æä¾›ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„ä¿è¯
   - ä½œè€…ä¸å¯¹ä½¿ç”¨æœ¬é¡¹ç›®é€ æˆçš„ä»»ä½•ç›´æ¥æˆ–é—´æ¥æŸå¤±æ‰¿æ‹…è´£ä»»
   - ä½¿ç”¨è€…åº”è‡ªè¡Œè¯„ä¼°é¡¹ç›®çš„é€‚ç”¨æ€§å’Œé£é™©

5. **è´£ä»»é™åˆ¶**ï¼š
   - ä½¿ç”¨è€…åœ¨ä½¿ç”¨æœ¬é¡¹ç›®å‰åº”å……åˆ†äº†è§£ç›¸å…³æ³•å¾‹æ³•è§„
   - ä½¿ç”¨è€…åº”ç¡®ä¿å…¶ä½¿ç”¨è¡Œä¸ºç¬¦åˆå½“åœ°æ³•å¾‹æ³•è§„è¦æ±‚
   - å› è¿åæ³•å¾‹æ³•è§„ä½¿ç”¨æœ¬é¡¹ç›®è€Œäº§ç”Ÿçš„ä»»ä½•åæœç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…

**è¯·åœ¨ä½¿ç”¨æœ¬é¡¹ç›®å‰ä»”ç»†é˜…è¯»å¹¶ç†è§£ä¸Šè¿°å…è´£å£°æ˜ã€‚ä½¿ç”¨æœ¬é¡¹ç›®å³è¡¨ç¤ºæ‚¨å·²åŒæ„å¹¶æ¥å—ä¸Šè¿°æ‰€æœ‰æ¡æ¬¾ã€‚**

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GPL-2.0è®¸å¯è¯](LICENSE)ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚é˜…LICENSEæ–‡ä»¶ã€‚

## ğŸ‰ æ”¯æŒä¸è”ç³»

### è·å–å¸®åŠ©

å¸¸è§é—®é¢˜è§£ç­”ï¼šhttps://github.com/666ghj/BettaFish/issues/185

- **é¡¹ç›®ä¸»é¡µ**ï¼š[GitHubä»“åº“](https://github.com/666ghj/BettaFish)
- **é—®é¢˜åé¦ˆ**ï¼š[Issuesé¡µé¢](https://github.com/666ghj/BettaFish/issues)
- **åŠŸèƒ½å»ºè®®**ï¼š[Discussionsé¡µé¢](https://github.com/666ghj/BettaFish/discussions)

### è”ç³»æ–¹å¼

- ğŸ“§ **é‚®ç®±**ï¼šhangjiang@bupt.edu.cn

### å•†åŠ¡åˆä½œ

- **ä¼ä¸šå®šåˆ¶å¼€å‘**
- **å¤§æ•°æ®æœåŠ¡**
- **å­¦æœ¯åˆä½œ**
- **æŠ€æœ¯åŸ¹è®­**

## ğŸ‘¥ è´¡çŒ®è€…

æ„Ÿè°¢ä»¥ä¸‹ä¼˜ç§€çš„è´¡çŒ®è€…ä»¬ï¼š

[![Contributors](https://contrib.rocks/image?repo=666ghj/BettaFish)](https://github.com/666ghj/BettaFish/graphs/contributors)

## ğŸŒŸ åŠ å…¥å®˜æ–¹äº¤æµç¾¤

<div align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&height=200&section=header&text=æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„æŠ€æœ¯äº¤æµQQç¾¤ï¼&fontSize=40&fontAlignY=35&desc=æ‰«æä¸‹æ–¹äºŒç»´ç åŠ å…¥ç¾¤èŠ&descAlignY=55" alt="æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„æŠ€æœ¯äº¤æµQQç¾¤ï¼" style="width:60%; max-width:900px; display:block; margin:0 auto;">
  <img src="static/image/QQ_Light_Horizenal.png" alt="BettaFish æŠ€æœ¯äº¤æµç¾¤äºŒç»´ç " style="width:60%; max-width:360px; display:block; margin:20px auto 0;">
</div>

## ğŸ“ˆ é¡¹ç›®ç»Ÿè®¡

<a href="https://www.star-history.com/#666ghj/BettaFish&type=date&legend=top-left">
 <picture>
   <source media="(prefers-color-scheme: dark)" srcset="https://api.star-history.com/svg?repos=666ghj/BettaFish&type=date&theme=dark&legend=top-left" />
   <source media="(prefers-color-scheme: light)" srcset="https://api.star-history.com/svg?repos=666ghj/BettaFish&type=date&legend=top-left" />
   <img alt="Star History Chart" src="https://api.star-history.com/svg?repos=666ghj/BettaFish&type=date&legend=top-left" />
 </picture>
</a>

![Alt](https://repobeats.axiom.co/api/embed/e04e3eea4674edc39c148a7845c8d09c1b7b1922.svg "Repobeats analytics image")

---

## ğŸ“ æ¶æ„è®¾è®¡æ€»ç»“

BettaFishçš„æ¶æ„è®¾è®¡ä½“ç°äº†ç°ä»£AIåº”ç”¨çš„**å¾®æœåŠ¡**ã€**å¤šæ™ºèƒ½ä½“**ã€**å®æ—¶äº¤äº’**ç­‰ç‰¹ç‚¹ï¼š

### æ ¸å¿ƒè®¾è®¡åŸåˆ™
1. **æ¨¡å—åŒ–è®¾è®¡**: å„å¼•æ“ç‹¬ç«‹éƒ¨ç½²ï¼Œé«˜å†…èšä½è€¦åˆ
2. **å¼‚æ­¥å¤„ç†**: åŸºäºWebSocketçš„å®æ—¶é€šä¿¡ä¸å¼‚æ­¥ä»»åŠ¡å¤„ç†
3. **å¯æ‰©å±•æ€§**: æ”¯æŒè‡ªå®šä¹‰å¼•æ“ã€å·¥å…·å’ŒLLMé›†æˆ
4. **æ™ºèƒ½åŒ–**: AIä¸»æŒäººä¿ƒè¿›å¤šæ™ºèƒ½ä½“åä½œï¼Œæå‡é›†ä½“æ™ºèƒ½

### æŠ€æœ¯äº®ç‚¹
- **æ™ºèƒ½å¼‚æ­¥æ¨¡å¼é€‰æ‹©**: è‡ªåŠ¨é€‰æ‹©gevent/eventlet/threading
- **å¤šå¼•æ“ååŒå·¥ä½œ**: é€šè¿‡ForumEngineå®ç°æ™ºèƒ½åä½œ
- **å®Œæ•´çš„ç›‘æ§ä½“ç³»**: å®æ—¶æ—¥å¿—ç›‘æ§ä¸çŠ¶æ€åŒæ­¥
- **çµæ´»çš„é…ç½®ç®¡ç†**: åŸºäºPydanticçš„åŠ¨æ€é…ç½®ç³»ç»Ÿ

è¿™ä¸ªæ¶æ„ä¸ä»…å®ç°äº†é«˜æ•ˆçš„èˆ†æƒ…åˆ†æèƒ½åŠ›ï¼Œæ›´ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•å’Œæ€§èƒ½ä¼˜åŒ–å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚
